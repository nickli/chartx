var mmvis=function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e(function(t,e){!function(t){function l(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){l=function t(e){return typeof e}}else{l=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return l(t)}Object.defineProperty(t,"__esModule",{value:true});var s={},o={},n=Array.prototype,e=Object.prototype,a=n.push,i=n.slice,r=n.concat,u=e.toString,f=e.hasOwnProperty,d=n.forEach,c=n.map,h=n.filter,v=n.every,p=n.some,g=n.indexOf,y=Array.isArray,_=Object.keys,m=function t(e){return function(t){return t==null?void 0:t[e]}},b=Math.pow(2,53)-1,x=m("length"),O=function t(e){var n=x(e);return typeof n=="number"&&n>=0&&n<=b};s.values=function(t){var e=s.keys(t);var n=e.length;var i=new Array(n);for(var a=0;a<n;a++){i[a]=t[e[a]]}return i},s.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t){if(s.has(t,n))e.push(n)}return e},s.has=function(t,e){return f.call(t,e)};var P=s.each=s.forEach=function(t,e,n){if(t==null)return;if(d&&t.forEach===d){t.forEach(e,n)}else if(t.length===+t.length){for(var i=0,a=t.length;i<a;i++){if(e.call(n,t[i],i,t)===o)return}}else{var r=s.keys(t);for(var i=0,a=r.length;i<a;i++){if(e.call(n,t[r[i]],r[i],t)===o)return}}};if(s.compact=function(t){return s.filter(t,s.identity)},s.filter=s.select=function(t,i,a){var r=[];if(t==null)return r;if(h&&t.filter===h)return t.filter(i,a);P(t,function(t,e,n){if(i.call(a,t,e,n))r.push(t)});return r},P(["Arguments","Function","String","Number","Date","RegExp"],function(e){s["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),s.isArguments=function(t){return!!(t&&s.has(t,"callee"))},typeof/./!=="function"){s.isFunction=function(t){return typeof t==="function"}}s.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},s.isNaN=function(t){return s.isNumber(t)&&t!=+t},s.isBoolean=function(t){return t===true||t===false||u.call(t)=="[object Boolean]"},s.isNull=function(t){return t===null},s.isEmpty=function(t){if(t==null)return true;if(s.isArray(t)||s.isString(t))return t.length===0;for(var e in t){if(s.has(t,e))return false}return true},s.isElement=function(t){return!!(t&&t.nodeType===1)},s.isArray=y||function(t){return u.call(t)=="[object Array]"},s.isObject=function(t){return t===Object(t)},s.identity=function(t){return t},s.indexOf=function(t,e,n){if(t==null)return-1;var i=0,a=t.length;if(n){if(typeof n=="number"){i=n<0?Math.max(0,a+n):n}else{i=s.sortedIndex(t,e);return t[i]===e?i:-1}}if(g&&t.indexOf===g)return t.indexOf(e,n);for(;i<a;i++){if(t[i]===e)return i}return-1},s.isWindow=function(t){return t!=null&&t==t.window};var M=function e(t,n,i){if(n&&s.every(t,s.isArray)){return r.apply(i,t)}P(t,function(t){if(s.isArray(t)||s.isArguments(t)){n?a.apply(i,t):e(t,n,i)}else{i.push(t)}});return i};s.flatten=function(t,e){return M(t,e,[])},s.every=s.all=function(t,i,a){i||(i=s.identity);var r=true;if(t==null)return r;if(v&&t.every===v)return t.every(i,a);P(t,function(t,e,n){if(!(r=r&&i.call(a,t,e,n)))return o});return!!r},s.min=function(t,a,r){if(!a&&s.isArray(t)&&t[0]===+t[0]&&t.length<65535){return Math.min.apply(Math,t)}if(!a&&s.isEmpty(t))return Infinity;var o={computed:Infinity,value:Infinity};P(t,function(t,e,n){var i=a?a.call(r,t,e,n):t;i<o.computed&&(o={value:t,computed:i})});return o.value},s.max=function(t,a,r){if(!a&&s.isArray(t)&&t[0]===+t[0]&&t.length<65535){return Math.max.apply(Math,t)}if(!a&&s.isEmpty(t))return-Infinity;var o={computed:-Infinity,value:-Infinity};P(t,function(t,e,n){var i=a?a.call(r,t,e,n):t;i>o.computed&&(o={value:t,computed:i})});return o.value},s.find=s.detect=function(t,i,a){var r;w(t,function(t,e,n){if(i.call(a,t,e,n)){r=t;return true}});return r};var w=s.some=s.any=function(t,i,a){i||(i=s.identity);var r=false;if(t==null)return r;if(p&&t.some===p)return t.some(i,a);P(t,function(t,e,n){if(r||(r=i.call(a,t,e,n)))return o});return!!r};s.without=function(t){return s.difference(t,i.call(arguments,1))},s.difference=function(t){var e=r.apply(n,i.call(arguments,1));return s.filter(t,function(t){return!s.contains(e,t)})},s.uniq=s.unique=function(n,i,t,e){if(s.isFunction(i)){e=t;t=i;i=false}var a=t?s.map(n,t,e):n;var r=[];var o=[];P(a,function(t,e){if(i?!e||o[o.length-1]!==t:!s.contains(o,t)){o.push(t);r.push(n[e])}});return r},s.map=s.collect=function(t,i,a){var r=[];if(t==null)return r;if(c&&t.map===c)return t.map(i,a);P(t,function(t,e,n){r.push(i.call(a,t,e,n))});return r},s.contains=s.include=function(t,e){if(t==null)return false;if(g&&t.indexOf===g)return t.indexOf(e)!=-1;return w(t,function(t){return t===e})},s.pluck=function(t,e){return s.map(t,function(t){return t[e]})},s.random=function(t,e){if(e==null){e=t;t=0}return t+Math.floor(Math.random()*(e-t+1))},s.shuffle=function(t){return s.sample(t,Infinity)},s.sample=function(t,e,n){if(e==null||n){if(!O(t))t=s.values(t);return t[s.random(t.length-1)]}var i=O(t)?s.clone(t):s.values(t);var a=x(i);e=Math.max(Math.min(e,a),0);var r=a-1;for(var o=0;o<e;o++){var u=s.random(o,r);var l=i[o];i[o]=i[u];i[u]=l}return i.slice(0,e)},s.extend=function(){var t,e,n,i,a=arguments[0]||{},r=1,o=arguments.length,u=false;if(typeof a==="boolean"){u=a;a=arguments[1]||{};r=2}if(l(a)!=="object"&&!s.isFunction(a)){a={}}if(o===r){a=this;--r}for(;r<o;r++){if((t=arguments[r])!=null){for(e in t){n=a[e];i=t[e];if(a===i||i===undefined){continue}if(u&&i&&s.isObject(i)&&i.constructor===Object){a[e]=s.extend(u,n,i)}else{a[e]=i}}}}return a},s.clone=function(t){if(!s.isObject(t))return t;return s.isArray(t)?t.slice():s.extend(true,{},t)},s.euclideanModulo=function(t,e){return(t%e+e)%e},s.DEG2RAD=Math.PI/180,s.RAD2DEG=180/Math.PI,s.degToRad=function(t){return t*s.DEG2RAD},s.radToDeg=function(t){return t*s.RAD2DEG},t["default"]=s}(e)});t(n);var i=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true});var y=n(e);function n(t){return t&&t.__esModule?t:{default:t}}function _(t,e){var n,i;var a=[1,2,5,10];n=t/e;for(var i=0;i<a.length;i++){t=a[i];if(n<=(a[i]+(a[i+1]||a[i]))/2){break}}t*=e;return t}function m(t){return parseFloat(t.toPrecision(14))}function a(t,e,n){t=y["default"].without(t,undefined,null,"");var i=n&&n.scale?parseFloat(n.scale):1;var a=n&&n.isInt?1:0;if(isNaN(i)){i=1}var r=y["default"].max(t);var o=r;r*=i;var u=y["default"].min(t);if(u==r){if(r>0){u=0;return[u,r]}else if(r<0){return[r,0]}else{r=1;return[0,r]}}var l=r-u;if(l){var s=u;u-=l*.05;if(u<0&&s>=0){u=0}r+=l*.05}var f=(r-u)*.3;var d=Math.pow(10,Math.floor(Math.log(f)/Math.LN10));f=_(f,d);if(a){f=Math.ceil(f)}var c,h,v=m(Math.floor(u/f)*f),p=m(Math.ceil(r/f)*f),g=[];c=v;while(c<=p){g.push(c);c=m(c+f);if(c===h){break}h=c}if(g.length>=3){if(g[g.length-2]>=o){g.pop()}}return g}var i={section:function t(e,n,i){return y["default"].uniq(a(e,n,i))}};t["default"]=i}(e,n)});t(i);var a=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true}),t.getDefaultProps=t.cloneData=t.cloneOptions=undefined;var a=n(e);function n(t){return t&&t.__esModule?t:{default:t}}var i=function t(e){return a["default"].clone(e)},r=function t(e){return JSON.parse(JSON.stringify(e))},o=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var i in e){if(!!i.indexOf("_")){if(!e[i]||!e[i].propertys){if(a["default"].isObject(e[i])&&!a["default"].isFunction(e[i])&&!a["default"].isArray(e[i])){n[i]=e[i]["default"]}else{n[i]=e[i]}}else{n[i]={};t(e[i].propertys,n[i])}}}return n};t.cloneOptions=i,t.cloneData=r,t.getDefaultProps=o}(e,n)});t(a);var r=e(function(t,e){!function(t,e,n,i){Object.defineProperty(t,"__esModule",{value:true});var x=a(e),l=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function u(t,e,n){if(e)o(t.prototype,e);if(n)o(t,n);return t}var s=function(){u(n,null,[{key:"defaultProps",value:function t(){return{layoutType:{detail:"布局方式",default:"proportion"},dataSection:{detail:"轴数据集",default:[]},sectionHandler:{detail:"自定义dataSection的计算公式",default:null},waterLine:{detail:"水位线",default:null,documentation:"水位data，需要混入 计算 dataSection， 如果有设置waterLine， dataSection的最高水位不会低于这个值"},middleWeight:{detail:"区间分隔线",default:null,documentation:"如果middleweight有设置的话 dataSectionGroup 为被middleweight分割出来的n个数组>..[ [0,50 , 100],[100,500,1000] ]"},middleWeightPos:{detail:"区间分隔线的物理位置，百分比,默认 0.5 ",default:null},symmetric:{detail:"自动正负对称",default:false,documentation:"proportion下，是否需要设置数据为正负对称的数据，比如 [ 0,5,10 ] = > [ -10, 0 10 ]，象限坐标系的时候需要"},origin:{detail:"轴的起源值",default:null,documentation:"                    1，如果数据中又正数和负数，则默认为0 <br />                    2，如果dataSection最小值小于0，则baseNumber为最小值<br />                    3，如果dataSection最大值大于0，则baseNumber为最大值<br />                    4，也可以由用户在第2、3种情况下强制配置为0，则section会补充满从0开始的刻度值                "},sort:{detail:"排序",default:null},posParseToInt:{detail:"是否位置计算取整",default:false,documentation:"比如在柱状图中，有得时候需要高精度的能间隔1px的柱子，那么x轴的计算也必须要都是整除的"}}}}]);function n(t,e){r(this,n);this._opt=x["default"].clone(t);this.dataOrg=e||[];this.dataSectionLayout=[];this.axisLength=1;this._cellCount=null;this._cellLength=null;this.dataSectionGroup=[];this.originPos=0;this._originTrans=0;this._min=null;this._max=null;x["default"].extend(true,this,(0,i.getDefaultProps)(n.defaultProps()),t)}u(n,[{key:"resetDataOrg",value:function t(e){this.dataSection=[];this.dataSectionGroup=[];this.dataOrg=e;this._cellCount=null;this._cellLength=null}},{key:"setAxisLength",value:function t(e){this.axisLength=e;this.calculateProps()}},{key:"calculateProps",value:function t(){var a=this;if(this.layoutType=="proportion"){if(this._min==null){this._min=x["default"].min(this.dataSection)}if(this._max==null){this._max=x["default"].max(this.dataSection)}if(!("origin"in this._opt)){this.origin=0;if(x["default"].max(this.dataSection)<0){this.origin=x["default"].max(this.dataSection)}if(x["default"].min(this.dataSection)>0){this.origin=x["default"].min(this.dataSection)}}this._originTrans=this._getOriginTrans(this.origin);this.originPos=this.getPosOfVal(this.origin)}this.dataSectionLayout=[];x["default"].each(this.dataSection,function(t,e){var n=e;if(a.layoutType=="proportion"){n=a.getIndexOfVal(t)}var i=parseInt(a.getPosOf({ind:e,val:t}),10);a.dataSectionLayout.push({val:t,ind:n,pos:i})})}},{key:"getDataSection",value:function t(){return this.dataSection}},{key:"setDataSection",value:function t(e){var n=this;if(x["default"].isEmpty(e)&&x["default"].isEmpty(this._opt.dataSection)){if(this.layoutType=="proportion"){var i=this._getDataSection();if("origin"in n._opt){i.push(n._opt.origin)}if(i.length==1){i.push(i[0]*.5)}if(this.waterLine){i.push(this.waterLine)}if(this.symmetric){var a=x["default"].min(i);var r=x["default"].max(i);if(Math.abs(a)>Math.abs(r)){i.push(Math.abs(a))}else{i.push(-Math.abs(r))}}for(var o=0,u=i.length;o<u;o++){i[o]=Number(i[o]);if(isNaN(i[o])){i.splice(o,1);o--;u--}}if(x["default"].isFunction(this.sectionHandler)){this.dataSection=this.sectionHandler(i)}if(!this.dataSection||!this.dataSection.length){this.dataSection=l["default"].section(i,3)}if(this.symmetric){var a=x["default"].min(this.dataSection);var r=x["default"].max(this.dataSection);if(Math.abs(a)>Math.abs(r)){this.dataSection.push(Math.abs(a))}else{this.dataSection.unshift(-Math.abs(r))}}if(this.dataSection.length==0){this.dataSection=[0]}this.dataSectionGroup=[x["default"].clone(this.dataSection)];this._middleweight();this._sort()}else{this.dataSection=x["default"].flatten(this.dataOrg);this.dataSectionGroup=[this.dataSection]}}else{this.dataSection=e||this._opt.dataSection;this.dataSectionGroup=[this.dataSection]}this._middleWeightPos()}},{key:"_getDataSection",value:function t(){var e=1;x["default"].each(this.dataOrg,function(t){e=Math.max(t.length,e)});if(e==1){return this._oneDimensional()}if(e>1){return this._twoDimensional()}}},{key:"_oneDimensional",value:function t(){var e=x["default"].flatten(this.dataOrg);for(var n=0,i=e.length;n<i;n++){e[n]=e[n]||0}return e}},{key:"_twoDimensional",value:function t(){var e=this.dataOrg;var d=[];var c;x["default"].each(e,function(t,e){if(!t.length){return}if(!x["default"].isArray(t[0])){d.push(t);return}var n=[];var i=t[0].length;var a=t.length;for(var e=0;e<i;e++){var r=0;var o=0;var u=0;var l=0;for(var s=0;s<a;s++){var f=t[s][e];if(!f&&f!==0){continue}c==undefined&&(c=f);c=Math.min(c,f);if(f>=0){r+=f;o++}else{u+=f;l++}}o&&n.push(r);l&&n.push(u)}d.push(n)});d.push(c);return x["default"].flatten(d)}},{key:"setWaterLine",value:function t(e){if(e<=this.waterLine)return;this.waterLine=e;if(e<x["default"].min(this.dataSection)||e>x["default"].max(this.dataSection)){this.setDataSection();this.calculateProps()}}},{key:"_sort",value:function t(){if(this.sort){var e=this._getSortType();if(e=="desc"){this.dataSection.reverse();x["default"].each(this.dataSectionGroup,function(t,e){t.reverse()});this.dataSectionGroup.reverse()}}}},{key:"_getSortType",value:function t(){var e;if(x["default"].isString(this.sort)){e=this.sort}if(!e){e="asc"}return e}},{key:"_middleweight",value:function t(){if(this.middleWeight){if(!x["default"].isArray(this.middleWeight)){this.middleWeight=[this.middleWeight]}var e=x["default"].min(this.dataSection);var n=x["default"].max(this.dataSection);var i=[e];var a=[];for(var r=0,o=this.middleWeight.length;r<o;r++){var u=e;if(r>0){u=this.middleWeight[r-1]}var l=u+parseInt((this.middleWeight[r]-u)/2);i.push(l);i.push(this.middleWeight[r]);a.push([u,l,this.middleWeight[r]])}var s=this.middleWeight.slice(-1)[0];if(n>s){i.push(s+(n-s)/2);i.push(n);a.push([s,s+(n-s)/2,n])}this.dataSection=i;this.dataSectionGroup=a}}},{key:"_middleWeightPos",value:function t(){var e=this;if(this.middleWeightPos){if(!x["default"].isArray(this.middleWeightPos)){this.middleWeightPos=[this.middleWeightPos]}var n=0;x["default"].each(this.middleWeightPos,function(t){n+=t});if(n<1){this.middleWeightPos.push(1-n)}if(n>1){this.middleWeightPos=null}}if(this.middleWeight){if(!this.middleWeightPos){this.middleWeightPos=[];var i=0;x["default"].each(this.middleWeight,function(){var t=1/(e.middleWeight.length+1);i+=t;e.middleWeightPos.push(t)});this.middleWeightPos.push(1-i)}}else{this.middleWeightPos=[1]}}},{key:"_getOriginTrans",value:function t(e){var n=0;var i=this.dataSectionGroup.length;for(var a=0,r=i;a<r;a++){var o=this.dataSectionGroup[a];var u=this.axisLength*this.middleWeightPos[a];var l=0;x["default"].each(this.middleWeightPos,function(t,e){if(e<a){l+=me.axisLength*t}});if(this.layoutType=="proportion"){var s=x["default"].min(o);var f=x["default"].max(o);var d=Math.abs(f-s);if(e>=s&&e<=f){n=(e-s)/d*u+l;break}}}if(this.sort=="desc"){n=-(u-n)}return parseInt(n)}},{key:"_getLayoutDataOf",value:function t(e){var n=["val","ind","pos"];var i;x["default"].each(n,function(t){if(t in e){i=t}});var a;x["default"].each(this.dataSectionLayout,function(t){if(t[i]===e[i]){a=t}});return a||{}}},{key:"getPosOfVal",value:function t(e){return this.getPosOf({val:e})}},{key:"getPosOfInd",value:function t(e){var n=this._getLayoutDataOf({ind:e}).pos;if(n!=undefined){return n}return this.getPosOf({ind:e})}},{key:"getPosOf",value:function t(e){var n=this;var i;var a=this._getCellCount();if(this.layoutType=="proportion"){var r=this.dataSectionGroup.length;for(var o=0,u=r;o<u;o++){var l=this.dataSectionGroup[o];var s=this.axisLength*this.middleWeightPos[o];var f=0;x["default"].each(this.middleWeightPos,function(t,e){if(e<o){f+=n.axisLength*t}});var d=x["default"].min(l);var c=x["default"].max(l);var h="val"in e?e.val:this.getValOfInd(e.ind);if(h>=d&&h<=c){var v=this.origin;var p=!(v<d||v>c);if(!p){v=d}var g=Math.max(Math.abs(c-v),Math.abs(v-d));var y=Math.abs(c-d);var _=g/y*s;i=(h-v)/g*_+f;if(isNaN(i)){i=parseInt(f)}if(p){i+=this._originTrans}break}}}else{if(a==1){i=this.axisLength/2}else{var m="ind"in e?e.ind:this.getIndexOfVal(e.val);if(m!=-1){if(this.layoutType=="rule"){i=m/(a-1)*this.axisLength}if(this.layoutType=="peak"){var b=this.getCellLength();i=b*(m+1)-b/2}}}}!i&&(i=0);i=Number(i.toFixed(1));return Math.abs(i)}},{key:"getValOfPos",value:function t(e){var n=this._getLayoutDataOf({pos:e}).val;if(n!=undefined){return n}return this._getValOfInd(this.getIndexOfPos(e))}},{key:"getValOfInd",value:function t(e){var n=this._getLayoutDataOf({ind:e}).val;if(n!=undefined){return n}return this._getValOfInd(e)}},{key:"_getValOfInd",value:function t(o,e){var u=this;var n=x["default"].flatten(this.dataOrg);var l;if(this.layoutType=="proportion"){var i=this.dataSectionGroup.length;x["default"].each(this.dataSectionGroup,function(t,n){var e=u.axisLength*u.middleWeightPos[n];var i=0;x["default"].each(u.middleWeightPos,function(t,e){if(e<n){i+=u.axisLength*t}});if(parseInt(o/e)==n||n==u.dataSectionGroup.length-1){var a=x["default"].min(t);var r=x["default"].max(t);l=a+(r-a)/e*(o-i);return false}})}else{l=n[o]}return l}},{key:"getIndexOfPos",value:function t(e){var n=this._getLayoutDataOf({pos:e}).ind;if(n!=undefined){return n}var i=0;var a=this.getCellLengthOfPos(e);var r=this._getCellCount();if(this.layoutType=="proportion"){return e}else{if(this.layoutType=="peak"){i=parseInt(e/a);if(i==r){i=r-1}}if(this.layoutType=="rule"){i=parseInt((e+a/2)/a);if(r==1){i=0}}}return i}},{key:"getIndexOfVal",value:function t(n){var i=-1;if(this.layoutType=="proportion"){var e=this._getLayoutDataOf({val:n}).ind;if(e!=undefined){return e}i=this.getPosOfVal(n)}else{x["default"].each(this.dataOrg,function(t){x["default"].each(t,function(t){var e=x["default"].indexOf(t,n);if(e!=-1){i=e}})})}return i}},{key:"getCellLength",value:function t(){if(this._cellLength!==null){return this._cellLength}var e=this.axisLength;var n=e;var i=this._getCellCount();if(i){if(this.layoutType=="proportion"){n=1}else{n=e/i;if(this.layoutType=="rule"){if(i==1){n=e/2}else{n=e/(i-1)}}if(this.posParseToInt){n=parseInt(n)}}}this._cellLength=n;return n}},{key:"getCellLengthOfPos",value:function t(e){return this.getCellLength()}},{key:"getCellLengthOfInd",value:function t(e){return this.getCellLength()}},{key:"_getCellCount",value:function t(){if(this._cellCount!==null){return this._cellCount}var e=0;if(this.layoutType=="proportion"){e=this.axisLength}else{if(this.dataOrg.length&&this.dataOrg[0].length&&this.dataOrg[0][0].length){e=this.dataOrg[0][0].length}}this._cellCount=e;return e}}]);return n}();t["default"]=s}(e,n,i,a)});t(r);var o=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true}),t.default=function(t,a){var o={length:0,org:[],jsonOrg:[],data:[],getRowDataAt:u,getRowDataOf:i,getFieldData:l,getDataOrg:h,resetData:e,fields:[],range:{start:0,end:0},filters:{}};function n(t){t=JSON.parse(JSON.stringify(t,function(t,e){if(e===undefined){return null}return e}));if(!t||t.length==0){return o}if(t.length>0&&!v["default"].isArray(t[0])){o.jsonOrg=t;t=s(t);o.org=t}else{o.org=t;o.jsonOrg=f(t)}o.range.end=t.length-1-1;if(a){var e=a.dataZoom||a.datazoom;e&&e.range&&v["default"].extend(o.range,e.range)}if(t.length&&t[0].length&&!~t[0].indexOf("__index__")){for(var n=0,i=t.length;n<i;n++){if(!n){t[0].push("__index__")}else{t[n].push(n-1);o.jsonOrg[n-1]["__index__"]=n-1}}}o.fields=t[0]?t[0]:[];return o}function e(t){if(t){o.org=[];o.jsonOrg=[];o.fields=[];o.data=[];var e=v["default"].extend(true,{},o.range);n(t);v["default"].extend(true,o.range,e);if(o.range.end>o.length-1){o.range.end=o.length-1}if(o.range.start>o.length-1||o.range.start>o.range.end){o.range.start=0}}o.data=c()}function c(){var a=[];for(var t=0,e=o.fields.length;t<e;t++){var n={};n.field=o.fields[t];n.index=t;n.data=[];a.push(n)}var i=r(function(i){v["default"].each(o.fields,function(e){var t=i[e];if(!isNaN(t)&&t!==""&&t!==null){t=Number(t)}var n=v["default"].find(a,function(t){return t.field==e});n&&n.data.push(t)})});o.length=i.length;return a}function r(t){var i=[];v["default"].each(o.jsonOrg.slice(o.range.start,o.range.end+1),function(e){var n=true;if(v["default"].keys(o.filters).length){v["default"].each(o.filters,function(t){if(v["default"].isFunction(t)&&!t(e)){n=false;return false}})}if(n){t&&t(e);i.push(e)}});return i}function h(t,i,e,n){if(!n)n=0;var a=e||c();if(!a){return}if(!i){i=function t(e){return e}}function r(t){for(var e=0,n=t.length;e<n;e++){t[e]=i(t[e])}return t}if(!v["default"].isArray(t)){t=[t]}var o=[];for(var u=0,l=t.length;u<l;u++){if(v["default"].isArray(t[u])){o.push(h(t[u],i,e,n+1))}else{var s=o;if(!n){s=[]}for(var f=0,d=a.length;f<d;f++){if(t[u]==a[f].field){s.push(r(a[f].data));break}}if(!n){o.push(s)}}}return o}function u(t){var e={};var n=o.data;for(var i=0;i<n.length;i++){e[n[i].field]=n[i].data[t]}return e}function i(e){!e&&(e={});var t=[];var n=0;for(var i in e){n++}if(n){for(var a=o.range.start;a<=o.range.end;a++){var r=0;v["default"].each(o.data,function(t){if(t.field in e&&t.data[a]==e[t.field]){r++}});if(r==n){t.push(u(a))}}}return t}function l(e){var t=[];var n=v["default"].find(o.data,function(t){return t.field==e});n&&(t=n.data);return t}n(t);o.data=c();return o};var v=n(e);function n(t){return t&&t.__esModule?t:{default:t}}function s(t){if(t===undefined||t===null){t=[]}if(t.length>0&&!v["default"].isArray(t[0])){var e=[];var n=[];var i=0;for(var a=0,r=t.length;a<r;a++){var o=t[a];if(a==0){for(var u in o){n.push(u)}e.push(n);i=n.length}var l=[];for(var s=0;s<i;s++){l.push(o[n[s]])}e.push(l)}return e}else{return t}}function f(t){var e=t;if(t.length>0&&v["default"].isArray(t[0])){e=[];var n=t[0];var i=n.length;for(var a=1,r=t.length;a<r;a++){var o={};for(var u=0;u<i;u++){o[n[u]]=t[a][u]}e.push(o)}return e}}}(e,n)});t(o);var u=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true});var n=i(e);function i(t){return t&&t.__esModule?t:{default:t}}var r=typeof window!=="undefined"?window.devicePixelRatio:1,a=function t(r,o){if(document[r]){var e=function t(e,n,i){if(e.length){for(var a=0;a<e.length;a++){t(e[a],n,i)}}else{e[r](n,i,false)}};return e}else{var n=function t(e,n,i){if(e.length){for(var a=0;a<e.length;a++){t(e[a],n,i)}}else{e[o]("on"+n,function(){return i.call(e,window.event)})}};return n}};t["default"]={query:function t(e){if(n["default"].isString(e)){return document.getElementById(e)}if(e.nodeType==1){return e}if(e.length){return e[0]}return null},offset:function t(e){var n=e.getBoundingClientRect(),i=e.ownerDocument,a=i.body,r=i.documentElement,o=r.clientTop||a.clientTop||0,u=r.clientLeft||a.clientLeft||0,l=1;if(a.getBoundingClientRect){var s=a.getBoundingClientRect();l=(s.right-s.left)/a.clientWidth}if(l>1){o=0;u=0}var f=n.top/l+(window.pageYOffset||r&&r.scrollTop/l||a.scrollTop/l)-o,d=n.left/l+(window.pageXOffset||r&&r.scrollLeft/l||a.scrollLeft/l)-u;return{top:f,left:d}},addEvent:a("addEventListener","attachEvent"),removeEvent:a("removeEventListener","detachEvent"),pageX:function t(e){if(e.pageX)return e.pageX;else if(e.clientX)return e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);else return null},pageY:function t(e){if(e.pageY)return e.pageY;else if(e.clientY)return e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);else return null},createCanvas:function t(e,n,i){var a=document.createElement("canvas");a.style.position="absolute";a.style.width=e+"px";a.style.height=n+"px";a.style.left=0;a.style.top=0;a.setAttribute("width",e*r);a.setAttribute("height",n*r);a.setAttribute("id",i);return a},createView:function t(e,n,i){var a=document.createElement("div");a.className="canvax-view";a.style.cssText+="position:relative;width:100%;height:100%;";var r=document.createElement("div");r.style.cssText+="position:absolute;width:"+e+"px;height:"+n+"px;";var o=document.createElement("div");o.style.cssText+="position:absolute;width:"+e+"px;height:"+n+"px;";a.appendChild(r);a.appendChild(o);return{view:a,stageView:r,domView:o}}}}(e,n)});t(u);var l=e(function(t,e){!function(t){Object.defineProperty(t,"__esModule",{value:true});var e=["#ff8533","#73ace6","#82d982","#e673ac","#cd6bed","#8282d9","#c0e650","#e6ac73","#6bcded","#73e6ac","#ed6bcd","#9966cc"];t["default"]={colors:e,set:function t(e){this.colors=e;return this.colors},get:function t(){return this.colors}}}(e)});t(l);var s=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true});var s=n(e);function n(t){return t&&t.__esModule?t:{default:t}}t["default"]={_eval:function t(e,n,i,a){return i?new Function(i,e+"; return ".concat(n,";"))(a):new Function(e+"; return ".concat(n,";"))()},parse:function t(e,n,i,a){try{var r=n&&n.length&&n.length===2&&n[1]>n[0];if(!r){return this._eval(e,"options")}var o=this._eval(e,"variables");if(typeof o==="function"){o=o(i)||{}}var u={};if(a!==undefined){u=typeof a==="function"?a(i):a}u=s["default"].extend(true,{},o,u);var l=e.slice(0,n[0])+e.slice(n[1]);return this._eval(l,"options","variables",u)}catch(t){console.log("parse error");return{}}}}}(e,n)});t(s);var f=e(function(t,e){!function(t,e,n,i,v,a){Object.defineProperty(t,"__esModule",{value:true});var r=o(e),c=o(n),p=o(i),u=o(a);function o(t){return t&&t.__esModule?t:{default:t}}var l=true;t["default"]={create:function t(e,n,i){var a=null;var r=this;var o=(0,v.cloneData)(n);var u=(0,v.cloneOptions)(i);var l=function t(){r.instances[a.id]=null;delete r.instances[a.id]};var s=p["default"].query(e).getAttribute("chart_id");if(s!=undefined){var f=r.instances[s];if(f){f.destroy();f.off&&f.off("destroy",l)}delete r.instances[s]}var d=2;if(r.__dimension==3||r.is3dOpt&&r.is3dOpt(i)){d=3}var c=r._getComponentModules(d);var h=r._getComponentModule("chart",d);a=new h(e,o,u,c);if(a){a.draw();r.instances[a.id]=a;a.on("destroy",l)}return a},setGlobalTheme:function t(e){r["default"].set(e)},getGlobalTheme:function t(){return r["default"].get()},parse:u["default"],instances:{},getChart:function t(e){return this.instances[e]},resize:function t(){for(var e in this.instances){this.instances[e].resize()}},getOptionsOld:function t(e){var n={prefix:"[[JSON_FUN_PREFIX_",suffix:"_JSON_FUN_SUFFIX]]"};var i=function t(e){return JSON.parse(e,function(t,e){if(typeof e==="string"&&e.indexOf(n.suffix)>0&&e.indexOf(n.prefix)==0){return new Function("return "+e.replace(n.prefix,"").replace(n.suffix,""))()}return e})||{}};return i(decodeURIComponent(this.options[e]||"%7B%7D"))},getOptionsNew:function t(e,n,i){var a=this.options[e];var r=decodeURIComponent(a.code);var o=a.range;return u["default"].parse(r,o,n,i)},getOptions:function t(e,n,i,a){if(!this.options[e]){return n||{}}var r=this.options[e];var o=typeof r==="string"?this.getOptionsOld(e):this.getOptionsNew(e,i||[],a||{});if(n){o=c["default"].extend(true,o,n)}return o},calculateOptions:function t(e,n,i){return this.getOptions(e,undefined,n,i)},components:{c_2d:{},c_3d:{}},_getComponentModules:function t(e){var i=this.components.c_2d;if(e==3){i=this.components.c_3d}if(!i.modules){i.modules={}}if(!i.get){i.get=function(t,e){if(!e){e="empty"}t=t.toLowerCase();e=e.toLowerCase();var n=i.modules[t];if(n&&n[e]){return n[e]}}}return i},registerComponent:function t(e,n){var i=2;var a="empty";if(arguments.length==3){var r=arguments[2];if(c["default"].isNumber(r)){if(r==3){i=3}}if(c["default"].isString(r)){a=r}}if(arguments.length==4){a=arguments[2];if(arguments[3]==3){i=3}}var o=this._getComponentModules(i).modules;n=n.toLowerCase();a=a.toLowerCase();var u=o[n];if(!u){u=o[n]={}}if(!u[a]){u[a]=e}return o},_getComponentModule:function t(e){var n=2;var i="empty";if(arguments.length==2){var a=arguments[1];if(c["default"].isNumber(a)){if(a==3){n=3}}if(c["default"].isString(a)){i=a}}if(arguments.length==3){i=arguments[1];if(arguments[2]==3){n=3}}e=e.toLowerCase();i=i.toLowerCase();var r=this._getComponentModules(n).modules[e];return r?r[i]:undefined},setAnimationEnabled:function t(e){l=e},getAnimationEnabled:function t(e){return l},layout:{},registerLayout:function t(e,n){this.layout[e]=n},props:{},getProps:function t(){var n={};var a=this._getComponentModules().modules;var e=function t(){if(r=="chart")return"continue";n[r]={detail:r,propertys:{}};if(r=="graphs"){o=c["default"].map(a.graphs,function(t,e){return e});n.graphs.documentation="可选的graphs类型有：\n"+o.join("\n")}l={};u=null;for(s in a[r]){if(u)break;u=a[r][s].prototype}function i(t){var e=t.constructor.__proto__;if(!e._isComponentRoot){i(e.prototype)}if(e.defaultProps&&c["default"].isFunction(e.defaultProps)){var n=e.defaultProps();c["default"].extend(l,n)}}i(u);n[r].propertys=c["default"].extend(l,n[r].propertys);var e=function t(){f=a[r][s];d=f.defaultProps?f.defaultProps():{};function u(e){if(e._props){var n=c["default"].isArray(e._props);for(var i in e._props){if(!n){e[i]={detail:i,propertys:{}}}var a=e._props[i];if(a.defaultProps){var r;var o;(function(){var t=function t(e){if(e.__proto__.__proto__){t(e.__proto__)}if(e.defaultProps&&c["default"].isFunction(e.defaultProps)){var n=e.defaultProps();if(n._props){u(n)}n&&c["default"].extend(o,n)}};r=a.defaultProps();o={};t(a.__proto__);r=c["default"].extend(o,r);if(n){c["default"].extend(e,r)}else{e[i].propertys=r;u(e[i].propertys)}})()}}}}u(d);d=c["default"].extend({},l,d);if(l.type){if(!n[r].typeMap)n[r].typeMap={};if(r=="graphs"){d.type.values=o;d.type.documentation="可选的graphs类型有：\n"+o.join("\n")}n[r].typeMap[s]=d}else{c["default"].extend(n[r].propertys,d)}};for(s in a[r]){e()}};for(var r in a){var o;var l;var u;var s;var s;var f;var d;var i=e();if(i==="continue")continue}this.props=n;return this.props}}}(e,l,n,u,a,s)});t(f);var d=e(function(t,e){!function(t){Object.defineProperty(t,"__esModule",{value:true}),t.colorRgb=n,t.colorRgba=e,t.hexTorgb=i,t.hexTostring=a,t.rgbTohex=o;var r=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;function n(t){var e=t.toLowerCase();if(e&&r.test(e)){if(e.length===4){var n="#";for(var i=1;i<4;i+=1){n+=e.slice(i,i+1).concat(e.slice(i,i+1))}e=n}var a=[];for(var i=1;i<7;i+=2){a.push(parseInt("0x"+e.slice(i,i+2)))}return"RGB("+a.join(",")+")"}else{return e}}function e(t,e){return n(t).replace(")",","+e+")").replace("RGB","RGBA")}function i(t,e){if(t.replace){t=parseInt(t.replace("#","0X"),16)}e=e||[];e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255;return e}function a(t){t=t.toString(16);t="000000".substr(0,6-t.length)+t;return"#".concat(t)}function o(t){return(t[0]*255<<16)+(t[1]*255<<8)+t[2]*255}}(e)});t(d);var c=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true}),t.Polar=undefined;var y=n(e);function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function o(t,e,n){if(e)a(t.prototype,e);if(n)a(t,n);return t}var _=360,m=Math.cos,b=Math.sin,s=function(){function r(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];i(this,r);this._opt=y["default"].clone(t);this.dataFrame=e;this.axisLength=1;this.dataOrg=[];this.startAngle=this._opt.startAngle;this.allAngles=Math.min(360,this._opt.allAngles);this.sort=this._opt.sort;this.layoutData=[];this.maxRadius=0;this.minRadius=0}o(r,[{key:"calculateProps",value:function t(){var n=this;var i=0;var a=0;var r=0;var o=this._opt;var u,l,s,f,d,c;var h=2;var v=o.node.outRadius;var p=o.node.innerRadius;var g=o.node.moveDis;this.layoutData.forEach(function(t,e){if(!t.enabled)return;i+=isNaN(+t.value)?0:+t.value;if(t.radiusField){n.maxRadius=Math.max(t.radiusValue,i);n.minRadius=Math.min(t.radiusValue,i)}});this.axisLength=i;if(i>0){r=y["default"].euclideanModulo(this.startAngle,_);this.layoutData.forEach(function(t,e){a=t.value/i;if(!t.enabled){a=0}u=n.allAngles*a;l=r+u;d=r+u*.5;s=m(y["default"].degToRad(d));f=b(y["default"].degToRad(d));s=s.toFixed(5);f=f.toFixed(5);c=n.getAuadrant(d);if(!!t.radiusField){v=parseInt((o.node.outRadius-o.node.innerRadius)*((t.radiusValue-n.minRadius)/(n.maxRadius-n.minRadius))+o.node.innerRadius)}y["default"].extend(t,{outRadius:v,innerRadius:p,startAngle:r,endAngle:l,midAngle:d,moveDis:g,outOffsetx:g*.7*s,outOffsety:g*.7*f,centerx:v*s,centery:v*f,outx:(v+g)*s,outy:(v+g)*f,edgex:(v+g)*s,edgey:(v+g)*f,orginPercentage:a,percentage:(a*100).toFixed(h),quadrant:c,isRightSide:c==1||c==4?1:0,cosV:s,sinV:f});r+=u})}}},{key:"resetData",value:function t(e){this.dataFrame=e||[];this.axisLength=1;this.dataOrg=[];this.startAngle=this._opt.startAngle||-90;this.allAngles=this._opt.allAngles||360;this.layoutData=[]}},{key:"setOption",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.assign(this._opt,e);this.startAngle=this._opt.startAngle;this.allAngles=Math.min(360,this._opt.allAngles);this.sort=this._opt.sort}},{key:"setDataFrame",value:function t(e){var n=this;var i=[];var a=this._opt;var r=a.field;var o=a.groupField||a.label.field||a.field;var u=a.node.radius;e=e||this.dataFrame;this.dataFrame=e;this.dataOrg=[];for(var l=0,s=e.length;l<s;l++){var f=e.getRowDataAt(l);var d={rowData:f,enabled:true,value:f[r],label:f[o],iNode:l};this.dataOrg.push(f[r]);if(this._isFiled(u,d)){d.radiusField=u;d.radiusValue=f[u]}i.push(d)}if(this.sort){this.dataOrg=[];i.sort(function(t,e){if(n.sort=="asc"){return t.value-e.value}else{return e.value-t.value}});y["default"].each(i,function(t,e){t.iNode=e;n.dataOrg.push(t)})}this.layoutData=i;return i}},{key:"getLayoutData",value:function t(){return this.layoutData||[]}},{key:"_isFiled",value:function t(e,n){return e&&y["default"].isString(e)&&e in n.rowData}},{key:"getAuadrant",value:function t(e){e=y["default"].euclideanModulo(e,_);var n=parseInt(e/90);var i=0;switch(n){case 0:i=1;break;case 1:i=2;break;case 2:i=3;break;case 3:case 4:i=4;break}return i}},{key:"_getLayoutDataOf",value:function t(e){var n=[{val:"value"},{ind:"iNode"}];var i=n[Object.keys(e)[0]];var a;y["default"].each(this.layoutData,function(t){if(t[i]===e[i]){a=t}});return a||{}}},{key:"getRadiansAtR",value:function t(){}},{key:"getPointsOfR",value:function t(i,e){var a=[];y["default"].each(e,function(t){var e=Math.PI*t/180;var n=r.getPointInRadianOfR(e,i);a.push(n)});return a}}]);return r}();s.filterPointsInRect=function(t,e,n,i){for(var a=0,r=t.length;a<r;a++){if(!s.checkPointInRect(t[a],e,n,i)){t.splice(a,1);a--,r--}}return t},s.checkPointInRect=function(t,e,n,i){var a={x:t.x+e.x,y:t.y+e.y};return!(a.x<0||a.x>n||a.y<0||a.y>i)},s.checkArcInRect=function(t,e,n,i,a){var r=t[0];var o=t[1];var u=o.radian-r.radian;if(o.radian<r.radian){u=Math.PI*2+o.radian-r.radian}var l=(r.radian+u/2)%(Math.PI*2);return s.checkPointInRect(s.getPointInRadianOfR(l,e),n,i,a)},s.getRadianInPoint=function(t){var e=Math.PI*2;return(Math.atan2(t.y,t.x)+e)%e},s.getPointInRadianOfR=function(t,e){var n=Math.PI;var i=Math.cos(t)*e;if(t==n/2||t==n*3/2){i=0}var a=Math.sin(t)*e;if(t%n==0){a=0}return{x:i,y:a}},s.getROfNum=function(t,e,n,i){var a=0;var r=y["default"].max(e);var o=0;var u=parseInt(Math.max(n,i)/2);a=u*((t-o)/(r-o));return a},t.Polar=s}(e,n)});t(c);var h=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true});var a=n(e);function n(t){return t&&t.__esModule?t:{default:t}}var i=function t(e){var n="CanvaxEvent";if(a["default"].isString(e)){n=e}if(a["default"].isObject(e)&&e.type){n=e.type;a["default"].extend(this,e)}this.target=null;this.currentTarget=null;this.type=n;this.point=null;var i=this;this._stopPropagation=false;this.stopPropagation=function(){i._stopPropagation=true;if(a["default"].isObject(e)){e._stopPropagation=true}};this._preventDefault=false;this.preventDefault=function(){i._preventDefault=true;if(a["default"].isObject(e)){e._preventDefault=true}}};t["default"]=i}(e,n)});t(h);var v=e(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:true});var n=i(e);function i(t){return t&&t.__esModule?t:{default:t}}var a="mousedown mouseup mouseover mousemove mouseout click dblclick wheel keydown keypress keyup";t["default"]={_types:a.split(/,| /),register:function t(e){if(!e){return}if(n["default"].isString(e)){e=e.split(/,| /)}this._types=a.split(/,| /).concat(e)},get:function t(){return this._types}}}(e,n)});t(v);var p=e(function(t,e){!function(t,e,n){Object.defineProperty(t,"__esModule",{value:true});var i=a(e),o=a(n);function a(t){return t&&t.__esModule?t:{default:t}}var r=function t(){this._eventMap={}};r.prototype={_setEventEnable:function t(){if(this.children)return;var e=false;for(var n in this._eventMap){if(o["default"].indexOf(i["default"].get(),n)>-1){e=true}}this._eventEnabled=e},_addEventListener:function t(e,n){if(typeof n!="function"){return false}var i=true;var a=this;var r=e;if(o["default"].isString(e)){r=e.split(/,| /)}o["default"].each(r,function(t){var e=a._eventMap[t];if(!e){e=a._eventMap[t]=[];e.push(n);a._setEventEnable();return true}if(o["default"].indexOf(e,n)==-1){e.push(n);a._setEventEnable();return true}i=false});return i},_removeEventListener:function t(e,n){if(arguments.length==1)return this.removeEventListenerByType(e);var i=this._eventMap[e];if(!i){return false}for(var a=0;a<i.length;a++){var r=i[a];if(r===n){i.splice(a,1);if(i.length==0){delete this._eventMap[e];this._setEventEnable()}return true}}return false},_removeEventListenerByType:function t(e){var n=this._eventMap[e];if(!n){delete this._eventMap[e];this._setEventEnable();return true}return false},_removeAllEventListeners:function t(){this._eventMap={};this._eventEnabled=false},_dispatchEvent:function t(e){var n=this._eventMap[e.type];if(n){if(!e.target)e.target=this;if(!e.currentTarget)e.currentTarget=this;n=n.slice();for(var i=0;i<n.length;i++){var a=n[i];if(typeof a=="function"){a.call(this,e)}}}if(!e._stopPropagation){if(this.parent){e.currentTarget=this.parent;this.parent._dispatchEvent(e)}}return true},_hasEventListener:function t(e){var n=this._eventMap[e];return n!=null&&n.length>0}},t["default"]=r}(e,v,n)});t(p);var g=e(function(t,e){!function(t,e,n,i){Object.defineProperty(t,"__esModule",{value:true}),t.default=undefined;var a=r(e),o=r(n),u=r(i);function r(t){return t&&t.__esModule?t:{default:t}}function l(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){l=function t(e){return typeof e}}else{l=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return l(t)}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function d(t,e,n){if(e)f(t.prototype,e);if(n)f(t,n);return t}function c(t,e){if(e&&(l(e)==="object"||typeof e==="function")){return e}return h(t)}function h(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function v(t){v=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return v(t)}function p(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)g(t,e)}function g(t,e){g=Object.setPrototypeOf||function t(e,n){e.__proto__=n;return e};return g(t,e)}var y=function(t){p(e,t);function e(){s(this,e);return c(this,v(e).call(this))}d(e,[{key:"on",value:function t(e,n){this._addEventListener(e,n);return this}},{key:"addEventListener",value:function t(e,n){this._addEventListener(e,n);return this}},{key:"un",value:function t(e,n){this._removeEventListener(e,n);return this}},{key:"removeEventListener",value:function t(e,n){this._removeEventListener(e,n);return this}},{key:"removeEventListenerByType",value:function t(e){this._removeEventListenerByType(e);return this}},{key:"removeAllEventListeners",value:function t(){this._removeAllEventListeners();return this}},{key:"fire",value:function t(e,n){var i=new o["default"](e);if(n){for(var a in n){if(a!="type"){i[a]=n[a]}}}var r=this;u["default"].each(e.split(" "),function(t){i.currentTarget=r;r.dispatchEvent(i)});return this}},{key:"dispatchEvent",value:function t(e){if(this.children&&e.point){var n=this.getObjectsUnderPoint(e.point,1)[0];if(n){n.dispatchEvent(e)}return}if(this.context&&e.type=="mouseover"){var i=this._heartBeatNum;var a=this.context.$model.globalAlpha;this._dispatchEvent(e);if(i!=this._heartBeatNum){this._hoverClass=true;if(this.hoverClone){var r=this.getStage().parent;var o=this.clone(true);o._transform=this.getConcatenatedMatrix();r._bufferStage.addChildAt(o,0);this._globalAlpha=a;this.context.globalAlpha=0}}return}this._dispatchEvent(e);if(this.context&&e.type=="mouseout"){if(this._hoverClass&&this.hoverClone){var r=this.getStage().parent;this._hoverClass=false;r._bufferStage.removeChildById(this.id);if(this._globalAlpha){this.context.globalAlpha=this._globalAlpha;delete this._globalAlpha}}}return this}},{key:"hasEvent",value:function t(e){return this._hasEventListener(e)}},{key:"hasEventListener",value:function t(e){return this._hasEventListener(e)}},{key:"hover",value:function t(e,n){this.on("mouseover",e);this.on("mouseout",n);return this}},{key:"once",value:function t(e,n){var i=this;var a=function t(){n.apply(i,arguments);this.un(e,t)};this.on(e,a);return this}}]);return e}(a["default"]);t.default=y}(e,p,h,n)});t(g);var y=e(function(t,e){!function(t,e,n,i,a){Object.defineProperty(t,"__esModule",{value:true});var l=o(e),r=o(n),s=o(i),f=o(a);function o(t){return t&&t.__esModule?t:{default:t}}var u=["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown","press","pressup","swipe","swipeleft","swiperight","swipeup","swipedown","tap"],d=function t(e,n){this.canvax=e;this.curPoints=[{x:0,y:0}];this.curPointsTarget=[];this._touching=false;this._draging=false;this._cursor="default";this.target=this.canvax.view;this.drag={start:"panstart",move:"panmove",end:"panend"};s["default"].extend(true,this,n)},c=document&&document.compareDocumentPosition?function(t,e){if(!e){return false}return!!(t.compareDocumentPosition(e)&16)}:function(t,e){if(!e){return false}return e!==e&&(t.contains?t.contains(e):true)};d.prototype={init:function t(){var e=this;if(e.target.nodeType==undefined){r["default"].register(u)}f["default"].addEvent(e.target,"contextmenu",function(t){if(t&&t.preventDefault){t.preventDefault()}else{window.event.returnValue=false}});s["default"].each(r["default"].get(),function(t){if(e.target.nodeType==1){f["default"].addEvent(e.target,t,function(t){e.__mouseHandler(t)})}else{e.target.on(t,function(t){e.__libHandler(t)})}})},__mouseHandler:function t(e){var n=this;var i=n.canvax;i.updateViewOffset();n.curPoints=[{x:f["default"].pageX(e)-i.viewOffset.left,y:f["default"].pageY(e)-i.viewOffset.top}];var a=n.curPoints[0];var r=n.curPointsTarget[0];if(s["default"].indexOf(["mousedown","mouseover","click"],e.type)>-1&&!r){if(!r){var o=i.getObjectsUnderPoint(a,1)[0];if(o){n.curPointsTarget=[o]}}r=n.curPointsTarget[0]}if(e.type=="mousedown"){if(r&&r.dragEnabled){n._touching=true}}if(e.type=="mouseup"||e.type=="mouseout"&&!c(i.view,e.toElement||e.relatedTarget)){if(n._draging==true){n._dragEnd(e,r,0);r.fire("dragend")}n._draging=false;n._touching=false}if(e.type=="mouseout"){if(!c(i.view,e.toElement||e.relatedTarget)){n.__getcurPointsTarget(e,a,true)}}else if(e.type=="mousemove"){if(n._touching&&e.type=="mousemove"&&r){if(!n._draging){r.fire("dragstart");if(!r._globalAlpha){r._globalAlpha=r.context.$model.globalAlpha}r.context.globalAlpha=0;var u=n._clone2hoverStage(r,0);u.context.globalAlpha=r._globalAlpha}else{n._dragIngHander(e,r,0)}n._draging=true}else{n.__getcurPointsTarget(e,a)}}else{var l=r;if(!l){l=i}n.__dispatchEventInChilds(e,[l]);n._cursorHander(l)}if(i.preventDefault||e._preventDefault){if(e&&e.preventDefault){e.preventDefault()}else{window.event.returnValue=false}}},__getcurPointsTarget:function t(e,n,i){var a=this;var r=a.canvax;var o=a.curPointsTarget[0];if(o&&!o.context){o=null}var e=new l["default"](e);if(e.type=="mousemove"&&o&&o._hoverClass&&o.hoverClone&&o.pointChkPriority&&o.getChildInPoint(n)){e.target=e.currentTarget=o;e.point=o.globalToLocal(n);o.dispatchEvent(e);return}var u=i?null:r.getObjectsUnderPoint(n,1)[0];if(o&&o!=u||e.type=="mouseout"){if(o&&o.context){a.curPointsTarget[0]=null;e.type="mouseout";e.toTarget=u;e.target=e.currentTarget=o;e.point=o.globalToLocal(n);o.dispatchEvent(e)}}if(u&&o!=u){a.curPointsTarget[0]=u;e.type="mouseover";e.fromTarget=o;e.target=e.currentTarget=u;e.point=u.globalToLocal(n);u.dispatchEvent(e)}if(e.type=="mousemove"&&u){e.target=e.currentTarget=o;e.point=o.globalToLocal(n);o.dispatchEvent(e)}a._cursorHander(u,o)},_cursorHander:function t(e,n){if(!e&&!n){this._setCursor("default")}if(e&&n!=e&&e.context){this._setCursor(e.context.$model.cursor)}},_setCursor:function t(e){if(this._cursor==e){return}this.canvax.view.style.cursor=e;this._cursor=e},__libHandler:function t(n){var i=this;var e=i.canvax;e.updateViewOffset();i.curPoints=i.__getCanvaxPointInTouchs(n);if(!i._draging){i.curPointsTarget=i.__getChildInTouchs(i.curPoints)}if(i.curPointsTarget.length>0){if(n.type==i.drag.start){s["default"].each(i.curPointsTarget,function(t,e){if(t&&t.dragEnabled){i._draging=true;if(!t._globalAlpha){t._globalAlpha=t.context.$model.globalAlpha}i._clone2hoverStage(t,e);t.context.globalAlpha=0;t.fire("dragstart");return false}})}if(n.type==i.drag.move){if(i._draging){s["default"].each(i.curPointsTarget,function(t,e){if(t&&t.dragEnabled){i._dragIngHander(n,t,e)}})}}if(n.type==i.drag.end){if(i._draging){s["default"].each(i.curPointsTarget,function(t,e){if(t&&t.dragEnabled){i._dragEnd(n,t,0);t.fire("dragend")}});i._draging=false}}i.__dispatchEventInChilds(n,i.curPointsTarget)}else{i.__dispatchEventInChilds(n,[e])}},__getCanvaxPointInTouchs:function t(e){var n=this;var i=n.canvax;var a=[];s["default"].each(e.point,function(t){a.push({x:f["default"].pageX(t)-i.viewOffset.left,y:f["default"].pageY(t)-i.viewOffset.top})});return a},__getChildInTouchs:function t(e){var n=this;var i=n.canvax;var a=[];s["default"].each(e,function(t){a.push(i.getObjectsUnderPoint(t,1)[0])});return a},__dispatchEventInChilds:function t(i,e){if(!e&&!("length"in e)){return false}var a=this;s["default"].each(e,function(t,e){if(t){var n=new l["default"](i);n.stagePoint=a.curPoints[e];n.point=t.globalToLocal(n.stagePoint);t.dispatchEvent(n)}})},_clone2hoverStage:function t(e,n){var i=this;var a=i.canvax;var r=a._bufferStage.getChildById(e.id);if(!r){r=e.clone(true);r._transform=e.getConcatenatedMatrix();a._bufferStage.addChildAt(r,0)}r.context.globalAlpha=e._globalAlpha;e._dragPoint=e.globalToLocal(i.curPoints[n]);return r},_dragIngHander:function t(e,n,i){var a=this;var r=a.canvax;var o=n.globalToLocal(a.curPoints[i]);n._noHeart=true;var u=n.moveing;n.moveing=true;n.context.x+=o.x-n._dragPoint.x;n.context.y+=o.y-n._dragPoint.y;n.fire("draging");n.moveing=u;n._noHeart=false;var l=r._bufferStage.getChildById(n.id);l._transform=n.getConcatenatedMatrix();l.worldTransform=null;l.heartBeat()},_dragEnd:function t(e,n,i){var a=this;var r=a.canvax;var o=r._bufferStage.getChildById(n.id);o&&o.destroy();n.context.globalAlpha=n._globalAlpha}},t["default"]=d}(e,h,v,n,u)});t(y);var _=e(function(t,e){!function(t,e,n,i,a,r){Object.defineProperty(t,"__esModule",{value:true}),t.types=t.Manager=t.Handler=t.Dispatcher=t.Event=undefined;var o=d(e),u=d(n),l=d(i),s=d(a),f=d(r);function d(t){return t&&t.__esModule?t:{default:t}}t.Event=o["default"],t.Dispatcher=u["default"],t.Handler=l["default"],t.Manager=s["default"],t.types=f["default"]}(e,h,g,y,p,v)});return t(_),t(e(function(t,e){!function(t,e,n,i,a,r,o,u,l,s,f){Object.defineProperty(t,"__esModule",{value:true}),t.event=t.Polar=t.getDefaultProps=t.color=t.global=t.cloneData=t.cloneOptions=t.$=t._=t.dataSection=t.dataFrame=t.axis=undefined;var d=x(e),c=x(n),h=x(i),v=x(a),p=x(r),g=x(o),y=b(u),_=b(f);function m(){if(typeof WeakMap!=="function")return null;var t=new WeakMap;m=function(){return t};return t}function b(t){if(t&&t.__esModule){return t}if(t===null||typeof t!=="object"&&typeof t!=="function"){return{default:t}}var e=m();if(e&&e.has(t)){return e.get(t)}var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t){if(Object.prototype.hasOwnProperty.call(t,a)){var r=i?Object.getOwnPropertyDescriptor(t,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=t[a]}}}n.default=t;if(e){e.set(t,n)}return n}function x(t){return t&&t.__esModule?t:{default:t}}t.axis=d["default"],t.dataFrame=c["default"],t.dataSection=h["default"],t._=v["default"],t.$=p["default"],t.cloneOptions=l.cloneOptions,t.cloneData=l.cloneData,t.global=g["default"],t.color=y,t.getDefaultProps=l.getDefaultProps,t.Polar=s.Polar,t.event=_}(e,r,o,i,n,u,f,d,a,c,_)}))}();