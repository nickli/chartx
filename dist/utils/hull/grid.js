"use strict";!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var l={};t(l),(void 0).undefined=l}}(0,function(e){function l(e,t){this._cells=[],this._cellSize=t,this._reverseCellSize=1/t;for(var l=0;l<e.length;l++){var i=e[l],o=this.coordToCellNum(i[0]),r=this.coordToCellNum(i[1]);if(this._cells[o])this._cells[o][r]?this._cells[o][r].push(i):this._cells[o][r]=[i];else{var s=[];s[r]=[i],this._cells[o]=s}}}Object.defineProperty(e,"__esModule",{value:!0}),l.prototype={cellPoints:function(e,t){return void 0!==this._cells[e]&&void 0!==this._cells[e][t]?this._cells[e][t]:[]},rangePoints:function(e){for(var t=this.coordToCellNum(e[0]),l=this.coordToCellNum(e[1]),i=this.coordToCellNum(e[2]),o=this.coordToCellNum(e[3]),r=[],s=t;s<=i;s++)for(var n=l;n<=o;n++)Array.prototype.push.apply(r,this.cellPoints(s,n));return r},removePoint:function(e){for(var t,l=this.coordToCellNum(e[0]),i=this.coordToCellNum(e[1]),o=this._cells[l][i],r=0;r<o.length;r++)if(o[r][0]===e[0]&&o[r][1]===e[1]){t=r;break}return o.splice(t,1),o},trunc:Math.trunc||function(e){return e-e%1},coordToCellNum:function(e){return this.trunc(e*this._reverseCellSize)},extendBbox:function(e,t){return[e[0]-t*this._cellSize,e[1]-t*this._cellSize,e[2]+t*this._cellSize,e[3]+t*this._cellSize]}},e.default=function(e,t){return new l(e,t)}});