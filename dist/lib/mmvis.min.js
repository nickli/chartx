var mmvis=function(t){"use strict";var i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var e=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function n(t,e){return t(e={exports:{}},e.exports),e.exports}function l(t){var e=E(t);return"number"==typeof e&&0<=e&&e<=w}var a,u=n(function(e){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n}),y={},o={},s=Array.prototype,c=Object.prototype,h=s.push,d=s.slice,f=s.concat,p=c.toString,g=c.hasOwnProperty,v=s.forEach,m=s.map,_=s.filter,x=s.every,b=s.some,O=s.indexOf,P=Array.isArray,S=Object.keys,w=Math.pow(2,53)-1,E=(a="length",function(t){return null==t?void 0:t[a]});y.values=function(t){for(var e=y.keys(t),n=e.length,i=new Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.keys=S||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)y.has(t,n)&&e.push(n);return e},y.has=function(t,e){return g.call(t,e)};var T=y.each=y.forEach=function(t,e,n){if(null!=t)if(v&&t.forEach===v)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t)===o)return}else{var a=y.keys(t);for(i=0,r=a.length;i<r;i++)if(e.call(n,t[a[i]],a[i],t)===o)return}};y.compact=function(t){return y.filter(t,y.identity)},y.filter=y.select=function(t,i,r){var a=[];return null==t?a:_&&t.filter===_?t.filter(i,r):(T(t,function(t,e,n){i.call(r,t,e,n)&&a.push(t)}),a)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){y["is"+e]=function(t){return p.call(t)=="[object "+e+"]"}}),y.isArguments=function(t){return!(!t||!y.has(t,"callee"))},"function"!=typeof/./&&(y.isFunction=function(t){return"function"==typeof t}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!=+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==p.call(t)},y.isNull=function(t){return null===t},y.isEmpty=function(t){if(null==t)return!0;if(y.isArray(t)||y.isString(t))return 0===t.length;for(var e in t)if(y.has(t,e))return!1;return!0},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=P||function(t){return"[object Array]"==p.call(t)},y.isObject=function(t){return t===Object(t)},y.identity=function(t){return t},y.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return t[i=y.sortedIndex(t,e)]===e?i:-1;i=n<0?Math.max(0,r+n):n}if(O&&t.indexOf===O)return t.indexOf(e,n);for(;i<r;i++)if(t[i]===e)return i;return-1},y.isWindow=function(t){return null!=t&&t==t.window};y.flatten=function(t,e){return function e(t,n,i){return n&&y.every(t,y.isArray)?f.apply(i,t):(T(t,function(t){y.isArray(t)||y.isArguments(t)?n?h.apply(i,t):e(t,n,i):i.push(t)}),i)}(t,e,[])},y.every=y.all=function(t,i,r){i=i||y.identity;var a=!0;return null==t?a:x&&t.every===x?t.every(i,r):(T(t,function(t,e,n){if(!(a=a&&i.call(r,t,e,n)))return o}),!!a)},y.min=function(t,r,a){if(!r&&y.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!r&&y.isEmpty(t))return 1/0;var o={computed:1/0,value:1/0};return T(t,function(t,e,n){var i=r?r.call(a,t,e,n):t;i<o.computed&&(o={value:t,computed:i})}),o.value},y.max=function(t,r,a){if(!r&&y.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!r&&y.isEmpty(t))return-1/0;var o={computed:-1/0,value:-1/0};return T(t,function(t,e,n){var i=r?r.call(a,t,e,n):t;i>o.computed&&(o={value:t,computed:i})}),o.value},y.find=y.detect=function(t,i,r){var a;return L(t,function(t,e,n){if(i.call(r,t,e,n))return a=t,!0}),a};var L=y.some=y.any=function(t,i,r){i=i||y.identity;var a=!1;return null==t?a:b&&t.some===b?t.some(i,r):(T(t,function(t,e,n){if(a=a||i.call(r,t,e,n))return o}),!!a)};function A(t){return parseFloat(t.toPrecision(14))}function k(t,e,n){t=y.without(t,void 0,null,"");var i=n&&n.scale?parseFloat(n.scale):1,r=n&&n.isInt?1:0;isNaN(i)&&(i=1);var a=y.max(t),o=a;a*=i;var s=y.min(t);if(s==a)return 0<a?[s=0,a]:a<0?[a,0]:[0,a=1];var u=a-s;if(u){var l=s;(s-=.05*u)<0&&0<=l&&(s=0),a+=.05*u}var c=.3*(a-s);c=function(t,e){var n,i=[1,2,5,10];n=t/e;for(var r=0;r<i.length&&!(n<=((t=i[r])+(i[r+1]||i[r]))/2);r++);return t*=e}(c,Math.pow(10,Math.floor(Math.log(c)/Math.LN10))),r&&(c=Math.ceil(c));var h,d,f=A(Math.floor(s/c)*c),p=A(Math.ceil(a/c)*c),g=[];for(h=f;h<=p&&(g.push(h),(h=A(h+c))!==d);)d=h;return 3<=g.length&&g[g.length-2]>=o&&g.pop(),g}y.without=function(t){return y.difference(t,d.call(arguments,1))},y.difference=function(t){var e=f.apply(s,d.call(arguments,1));return y.filter(t,function(t){return!y.contains(e,t)})},y.uniq=y.unique=function(n,i,t,e){y.isFunction(i)&&(e=t,t=i,i=!1);var r=t?y.map(n,t,e):n,a=[],o=[];return T(r,function(t,e){(i?e&&o[o.length-1]===t:y.contains(o,t))||(o.push(t),a.push(n[e]))}),a},y.map=y.collect=function(t,i,r){var a=[];return null==t?a:m&&t.map===m?t.map(i,r):(T(t,function(t,e,n){a.push(i.call(r,t,e,n))}),a)},y.contains=y.include=function(t,e){return null!=t&&(O&&t.indexOf===O?-1!=t.indexOf(e):L(t,function(t){return t===e}))},y.pluck=function(t,e){return y.map(t,function(t){return t[e]})},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.shuffle=function(t){return y.sample(t,1/0)},y.sample=function(t,e,n){if(null==e||n)return l(t)||(t=y.values(t)),t[y.random(t.length-1)];var i=l(t)?y.clone(t):y.values(t),r=E(i);e=Math.max(Math.min(e,r),0);for(var a=r-1,o=0;o<e;o++){var s=y.random(o,a),u=i[o];i[o]=i[s],i[s]=u}return i.slice(0,e)},y.extend=function(){var t,e,n,i,r=arguments[0]||{},a=1,o=arguments.length,s=!1;for("boolean"==typeof r&&(s=r,r=arguments[1]||{},a=2),"object"===u(r)||y.isFunction(r)||(r={}),o===a&&(r=this,--a);a<o;a++)if(null!=(t=arguments[a]))for(e in t)n=r[e],r!==(i=t[e])&&void 0!==i&&(s&&i&&y.isObject(i)&&i.constructor===Object?r[e]=y.extend(s,n,i):r[e]=i);return r},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend(!0,{},t):t},y.euclideanModulo=function(t,e){return(t%e+e)%e},y.DEG2RAD=Math.PI/180,y.RAD2DEG=180/Math.PI,y.degToRad=function(t){return t*y.DEG2RAD},y.radToDeg=function(t){return t*y.RAD2DEG};function M(t){return y.clone(t)}function C(t){return JSON.parse(JSON.stringify(t))}function I(t,e){var n=1<arguments.length&&void 0!==e?e:{};for(var i in t)i.indexOf("_")&&(t[i]&&t[i].propertys?(n[i]={},I(t[i].propertys,n[i])):!y.isObject(t[i])||y.isFunction(t[i])||y.isArray(t[i])?n[i]=t[i]:n[i]=t[i].default);return n}var D={section:function(t,e,n){return y.uniq(k(t,0,n))}},R=function(){function n(t,e){i(this,n),this._opt=y.clone(t),this.dataOrg=e||[],this.dataSectionLayout=[],this.axisLength=1,this._cellCount=null,this._cellLength=null,this.dataSectionGroup=[],this.originPos=0,this._originTrans=0,this._min=null,this._max=null,y.extend(!0,this,I(n.defaultProps()),t)}return e(n,null,[{key:"defaultProps",value:function(){return{layoutType:{detail:"布局方式",default:"proportion"},dataSection:{detail:"轴数据集",default:[]},sectionHandler:{detail:"自定义dataSection的计算公式",default:null},waterLine:{detail:"水位线",default:null,documentation:"水位data，需要混入 计算 dataSection， 如果有设置waterLine， dataSection的最高水位不会低于这个值"},middleWeight:{detail:"区间分隔线",default:null,documentation:"如果middleweight有设置的话 dataSectionGroup 为被middleweight分割出来的n个数组>..[ [0,50 , 100],[100,500,1000] ]"},middleWeightPos:{detail:"区间分隔线的物理位置，百分比,默认 0.5 ",default:null},symmetric:{detail:"自动正负对称",default:!1,documentation:"proportion下，是否需要设置数据为正负对称的数据，比如 [ 0,5,10 ] = > [ -10, 0 10 ]，象限坐标系的时候需要"},origin:{detail:"轴的起源值",default:null,documentation:"                    1，如果数据中又正数和负数，则默认为0 <br />                    2，如果dataSection最小值小于0，则baseNumber为最小值<br />                    3，如果dataSection最大值大于0，则baseNumber为最大值<br />                    4，也可以由用户在第2、3种情况下强制配置为0，则section会补充满从0开始的刻度值                "},sort:{detail:"排序",default:null},posParseToInt:{detail:"是否位置计算取整",default:!1,documentation:"比如在柱状图中，有得时候需要高精度的能间隔1px的柱子，那么x轴的计算也必须要都是整除的"}}}}]),e(n,[{key:"resetDataOrg",value:function(t){this.dataSection=[],this.dataSectionGroup=[],this.dataOrg=t,this._cellCount=null,this._cellLength=null}},{key:"setAxisLength",value:function(t){this.axisLength=t,this.calculateProps()}},{key:"calculateProps",value:function(){var r=this;"proportion"==this.layoutType&&(null==this._min&&(this._min=y.min(this.dataSection)),null==this._max&&(this._max=y.max(this.dataSection)),"origin"in this._opt||(this.origin=0,y.max(this.dataSection)<0&&(this.origin=y.max(this.dataSection)),0<y.min(this.dataSection)&&(this.origin=y.min(this.dataSection))),this._originTrans=this._getOriginTrans(this.origin),this.originPos=this.getPosOfVal(this.origin)),this.dataSectionLayout=[],y.each(this.dataSection,function(t,e){var n=e;"proportion"==r.layoutType&&(n=r.getIndexOfVal(t));var i=parseInt(r.getPosOf({ind:e,val:t}),10);r.dataSectionLayout.push({val:t,ind:n,pos:i})})}},{key:"getDataSection",value:function(){return this.dataSection}},{key:"setDataSection",value:function(t){if(y.isEmpty(t)&&y.isEmpty(this._opt.dataSection))if("proportion"==this.layoutType){var e=this._getDataSection();if("origin"in this._opt&&e.push(this._opt.origin),1==e.length&&e.push(.5*e[0]),this.waterLine&&e.push(this.waterLine),this.symmetric){var n=y.min(e),i=y.max(e);Math.abs(n)>Math.abs(i)?e.push(Math.abs(n)):e.push(-Math.abs(i))}for(var r=0,a=e.length;r<a;r++)e[r]=Number(e[r]),isNaN(e[r])&&(e.splice(r,1),r--,a--);if(y.isFunction(this.sectionHandler)&&(this.dataSection=this.sectionHandler(e)),this.dataSection&&this.dataSection.length||(this.dataSection=D.section(e,3)),this.symmetric){n=y.min(this.dataSection),i=y.max(this.dataSection);Math.abs(n)>Math.abs(i)?this.dataSection.push(Math.abs(n)):this.dataSection.unshift(-Math.abs(i))}0==this.dataSection.length&&(this.dataSection=[0]),this.dataSectionGroup=[y.clone(this.dataSection)],this._middleweight(),this._sort()}else this.dataSection=y.flatten(this.dataOrg),this.dataSectionGroup=[this.dataSection];else this.dataSection=t||this._opt.dataSection,this.dataSectionGroup=[this.dataSection];this._middleWeightPos()}},{key:"_getDataSection",value:function(){var e=1;return y.each(this.dataOrg,function(t){e=Math.max(t.length,e)}),1==e?this._oneDimensional():1<e?this._twoDimensional():void 0}},{key:"_oneDimensional",value:function(){for(var t=y.flatten(this.dataOrg),e=0,n=t.length;e<n;e++)t[e]=t[e]||0;return t}},{key:"_twoDimensional",value:function(){var h,t=this.dataOrg,d=[];return y.each(t,function(t,e){if(t.length)if(y.isArray(t[0])){var n=[],i=t[0].length,r=t.length;for(e=0;e<i;e++){for(var a=0,o=0,s=0,u=0,l=0;l<r;l++){var c=t[l][e];!c&&0!==c||(null==h&&(h=c),h=Math.min(h,c),0<=c?(a+=c,o++):(s+=c,u++))}o&&n.push(a),u&&n.push(s)}d.push(n)}else d.push(t)}),d.push(h),y.flatten(d)}},{key:"setWaterLine",value:function(t){t<=this.waterLine||((this.waterLine=t)<y.min(this.dataSection)||t>y.max(this.dataSection))&&(this.setDataSection(),this.calculateProps())}},{key:"_sort",value:function(){this.sort&&"desc"==this._getSortType()&&(this.dataSection.reverse(),y.each(this.dataSectionGroup,function(t,e){t.reverse()}),this.dataSectionGroup.reverse())}},{key:"_getSortType",value:function(){var t;return y.isString(this.sort)&&(t=this.sort),t=t||"asc"}},{key:"_middleweight",value:function(){if(this.middleWeight){y.isArray(this.middleWeight)||(this.middleWeight=[this.middleWeight]);for(var t=y.min(this.dataSection),e=y.max(this.dataSection),n=[t],i=[],r=0,a=this.middleWeight.length;r<a;r++){var o=t;0<r&&(o=this.middleWeight[r-1]);var s=o+parseInt((this.middleWeight[r]-o)/2);n.push(s),n.push(this.middleWeight[r]),i.push([o,s,this.middleWeight[r]])}var u=this.middleWeight.slice(-1)[0];u<e&&(n.push(u+(e-u)/2),n.push(e),i.push([u,u+(e-u)/2,e])),this.dataSection=n,this.dataSectionGroup=i}}},{key:"_middleWeightPos",value:function(){var e=this;if(this.middleWeightPos){y.isArray(this.middleWeightPos)||(this.middleWeightPos=[this.middleWeightPos]);var n=0;y.each(this.middleWeightPos,function(t){n+=t}),n<1&&this.middleWeightPos.push(1-n),1<n&&(this.middleWeightPos=null)}if(this.middleWeight){if(!this.middleWeightPos){this.middleWeightPos=[];var i=0;y.each(this.middleWeight,function(){var t=1/(e.middleWeight.length+1);i+=t,e.middleWeightPos.push(t)}),this.middleWeightPos.push(1-i)}}else this.middleWeightPos=[1]}},{key:"_getOriginTrans",value:function(t){for(var e=0,n=this.dataSectionGroup.length,i=0,r=n;i<r;i++){var a=this.dataSectionGroup[i],o=this.axisLength*this.middleWeightPos[i],s=0;if(y.each(this.middleWeightPos,function(t,e){e<i&&(s+=me.axisLength*t)}),"proportion"==this.layoutType){var u=y.min(a),l=y.max(a),c=Math.abs(l-u);if(u<=t&&t<=l){e=(t-u)/c*o+s;break}}}return"desc"==this.sort&&(e=-(o-e)),parseInt(e)}},{key:"_getLayoutDataOf",value:function(e){var n,i;return y.each(["val","ind","pos"],function(t){t in e&&(n=t)}),y.each(this.dataSectionLayout,function(t){t[n]===e[n]&&(i=t)}),i||{}}},{key:"getPosOfVal",value:function(t){return this.getPosOf({val:t})}},{key:"getPosOfInd",value:function(t){var e=this._getLayoutDataOf({ind:t}).pos;return null!=e?e:this.getPosOf({ind:t})}},{key:"getPosOf",value:function(t){var e,n=this,i=this._getCellCount();if("proportion"==this.layoutType)for(var r=this.dataSectionGroup.length,a=0,o=r;a<o;a++){var s=this.dataSectionGroup[a],u=this.axisLength*this.middleWeightPos[a],l=0;y.each(this.middleWeightPos,function(t,e){e<a&&(l+=n.axisLength*t)});var c=y.min(s),h=y.max(s),d="val"in t?t.val:this.getValOfInd(t.ind);if(c<=d&&d<=h){var f=this.origin,p=!(f<c||h<f);p||(f=c);var g=Math.max(Math.abs(h-f),Math.abs(f-c));e=(d-f)/g*(g/Math.abs(h-c)*u)+l,isNaN(e)&&(e=parseInt(l)),p&&(e+=this._originTrans);break}}else if(1==i)e=this.axisLength/2;else{var v="ind"in t?t.ind:this.getIndexOfVal(t.val);if(-1!=v&&("rule"==this.layoutType&&(e=v/(i-1)*this.axisLength),"peak"==this.layoutType)){var m=this.getCellLength();e=m*(v+1)-m/2}}return e=e||0,e=Number(e.toFixed(1)),Math.abs(e)}},{key:"getValOfPos",value:function(t){var e=this._getLayoutDataOf({pos:t}).val;return null!=e?e:this._getValOfInd(this.getIndexOfPos(t))}},{key:"getValOfInd",value:function(t){var e=this._getLayoutDataOf({ind:t}).val;return null!=e?e:this._getValOfInd(t)}},{key:"_getValOfInd",value:function(o){var s,u=this,t=y.flatten(this.dataOrg);if("proportion"==this.layoutType){this.dataSectionGroup.length;y.each(this.dataSectionGroup,function(t,n){var e=u.axisLength*u.middleWeightPos[n],i=0;if(y.each(u.middleWeightPos,function(t,e){e<n&&(i+=u.axisLength*t)}),parseInt(o/e)==n||n==u.dataSectionGroup.length-1){var r=y.min(t),a=y.max(t);return s=r+(a-r)/e*(o-i),!1}})}else s=t[o];return s}},{key:"getIndexOfPos",value:function(t){var e=this._getLayoutDataOf({pos:t}).ind;if(null!=e)return e;var n=0,i=this.getCellLengthOfPos(t),r=this._getCellCount();return"proportion"==this.layoutType?t:("peak"==this.layoutType&&(n=parseInt(t/i))==r&&(n=r-1),"rule"==this.layoutType&&(n=parseInt((t+i/2)/i),1==r&&(n=0)),n)}},{key:"getIndexOfVal",value:function(n){var i=-1;if("proportion"==this.layoutType){var t=this._getLayoutDataOf({val:n}).ind;if(null!=t)return t;i=this.getPosOfVal(n)}else y.each(this.dataOrg,function(t){y.each(t,function(t){var e=y.indexOf(t,n);-1!=e&&(i=e)})});return i}},{key:"getCellLength",value:function(){if(null!==this._cellLength)return this._cellLength;var t=this.axisLength,e=t,n=this._getCellCount();return n&&("proportion"==this.layoutType?e=1:(e=t/n,"rule"==this.layoutType&&(e=1==n?t/2:t/(n-1)),this.posParseToInt&&(e=parseInt(e)))),this._cellLength=e}},{key:"getCellLengthOfPos",value:function(){return this.getCellLength()}},{key:"getCellLengthOfInd",value:function(){return this.getCellLength()}},{key:"_getCellCount",value:function(){if(null!==this._cellCount)return this._cellCount;var t=0;return"proportion"==this.layoutType?t=this.axisLength:this.dataOrg.length&&this.dataOrg[0].length&&this.dataOrg[0][0].length&&(t=this.dataOrg[0][0].length),this._cellCount=t}}]),n}();function N(a,o){if(document[a]){return function t(e,n,i){if(e.length)for(var r=0;r<e.length;r++)t(e[r],n,i);else e[a](n,i,!1)}}return function t(e,n,i){if(e.length)for(var r=0;r<e.length;r++)t(e[r],n,i);else e[o]("on"+n,function(){return i.call(e,window.event)})}}var j="undefined"!=typeof window?window.devicePixelRatio:1,F={query:function(t){return y.isString(t)?document.getElementById(t):1==t.nodeType?t:t.length?t[0]:null},offset:function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,a=r.clientTop||i.clientTop||0,o=r.clientLeft||i.clientLeft||0,s=1;if(i.getBoundingClientRect){var u=i.getBoundingClientRect();s=(u.right-u.left)/i.clientWidth}return 1<s&&(o=a=0),{top:e.top/s+(window.pageYOffset||r&&r.scrollTop/s||i.scrollTop/s)-a,left:e.left/s+(window.pageXOffset||r&&r.scrollLeft/s||i.scrollLeft/s)-o}},addEvent:N("addEventListener","attachEvent"),removeEvent:N("removeEventListener","detachEvent"),pageX:function(t){return t.pageX?t.pageX:t.clientX?t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):null},pageY:function(t){return t.pageY?t.pageY:t.clientY?t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):null},createCanvas:function(t,e,n){var i=document.createElement("canvas");return i.style.position="absolute",i.style.width=t+"px",i.style.height=e+"px",i.style.left=0,i.style.top=0,i.setAttribute("width",t*j),i.setAttribute("height",e*j),i.setAttribute("id",n),i},createView:function(t,e){var n=document.createElement("div");n.className="canvax-view",n.style.cssText+="position:relative;width:100%;height:100%;";var i=document.createElement("div");i.style.cssText+="position:absolute;width:"+t+"px;height:"+e+"px;";var r=document.createElement("div");return r.style.cssText+="position:absolute;width:"+t+"px;height:"+e+"px;",n.appendChild(i),n.appendChild(r),{view:n,stageView:i,domView:r}}},W={colors:["#ff8533","#73ace6","#82d982","#e673ac","#cd6bed","#8282d9","#c0e650","#e6ac73","#6bcded","#73e6ac","#ed6bcd","#9966cc"],set:function(t){return this.colors=t,this.colors},get:function(){return this.colors}},G={_eval:function(t,e,n,i){return n?new Function(n,t+"; return ".concat(e,";"))(i):new Function(t+"; return ".concat(e,";"))()},parse:function(t,e,n,i){try{if(!(e&&e.length&&2===e.length&&e[1]>e[0]))return this._eval(t,"options");var r=this._eval(t,"variables");"function"==typeof r&&(r=r(n)||{});var a={};void 0!==i&&(a="function"==typeof i?i(n):i),a=y.extend(!0,{},r,a);var o=t.slice(0,e[0])+t.slice(e[1]);return this._eval(o,"options","variables",a)}catch(t){return console.log("parse error"),{}}}},V=!0,B={create:function(t,e,n){function i(){a.instances[r.id]=null,delete a.instances[r.id]}var r=null,a=this,o=C(e),s=M(n),u=F.query(t).getAttribute("chart_id");if(null!=u){var l=a.instances[u];l&&(l.destroy(),l.off&&l.off("destroy",i)),delete a.instances[u]}var c=2;(3==a.__dimension||a.is3dOpt&&a.is3dOpt(n))&&(c=3);var h=a._getComponentModules(c),d=a._getComponentModule("chart",c);return(r=new d(t,o,s,h))&&(r.draw(),(a.instances[r.id]=r).on("destroy",i)),r},setGlobalTheme:function(t){W.set(t)},getGlobalTheme:function(){return W.get()},parse:G,instances:{},getChart:function(t){return this.instances[t]},resize:function(){for(var t in this.instances)this.instances[t].resize()},getOptionsOld:function(t){var e,n="[[JSON_FUN_PREFIX_",i="_JSON_FUN_SUFFIX]]";return e=decodeURIComponent(this.options[t]||"%7B%7D"),JSON.parse(e,function(t,e){return"string"==typeof e&&0<e.indexOf(i)&&0==e.indexOf(n)?new Function("return "+e.replace(n,"").replace(i,""))():e})||{}},getOptionsNew:function(t,e,n){var i=this.options[t],r=decodeURIComponent(i.code),a=i.range;return G.parse(r,a,e,n)},getOptions:function(t,e,n,i){if(!this.options[t])return e||{};var r="string"==typeof this.options[t]?this.getOptionsOld(t):this.getOptionsNew(t,n||[],i||{});return e&&(r=y.extend(!0,r,e)),r},calculateOptions:function(t,e,n){return this.getOptions(t,void 0,e,n)},components:{c_2d:{},c_3d:{}},_getComponentModules:function(t){var i=this.components.c_2d;return 3==t&&(i=this.components.c_3d),i.modules||(i.modules={}),i.get||(i.get=function(t,e){e=e||"empty",t=t.toLowerCase(),e=e.toLowerCase();var n=i.modules[t];if(n&&n[e])return n[e]}),i},registerComponent:function(t,e,n,i){var r=2,a="empty";if(3==arguments.length){var o=n;y.isNumber(o)&&3==o&&(r=3),y.isString(o)&&(a=o)}4==arguments.length&&(a=n,3==i&&(r=3));var s=this._getComponentModules(r).modules;e=e.toLowerCase(),a=a.toLowerCase();var u=s[e];return(u=u||(s[e]={}))[a]||(u[a]=t),s},_getComponentModule:function(t,e,n){var i=2,r="empty";if(2==arguments.length){var a=e;y.isNumber(a)&&3==a&&(i=3),y.isString(a)&&(r=a)}3==arguments.length&&(r=e,3==n&&(i=3)),t=t.toLowerCase(),r=r.toLowerCase();var o=this._getComponentModules(i).modules[t];return o?o[r]:void 0},setAnimationEnabled:function(t){V=t},getAnimationEnabled:function(){return V},layout:{},registerLayout:function(t,e){this.layout[t]=e},props:{},getProps:function(){function t(){if("chart"==i)return"continue";for(s in e[i]={detail:i,propertys:{}},"graphs"==i&&(r=y.map(n.graphs,function(t,e){return e}),e.graphs.documentation="可选的graphs类型有：\n"+r.join("\n")),a={},o=null,n[i]){if(o)break;o=n[i][s].prototype}function t(){u=n[i][s],function i(t){if(t._props){var e=y.isArray(t._props);for(var n in t._props){e||(t[n]={detail:n,propertys:{}});var r,a,o=t._props[n];o.defaultProps&&(r=o.defaultProps(),a={},function t(e){if(e.__proto__.__proto__&&t(e.__proto__),e.defaultProps&&y.isFunction(e.defaultProps)){var n=e.defaultProps();n._props&&i(n),n&&y.extend(a,n)}}(o.__proto__),r=y.extend(a,r),e?y.extend(t,r):(t[n].propertys=r,i(t[n].propertys)))}}}(l=u.defaultProps?u.defaultProps():{}),l=y.extend({},a,l),a.type?(e[i].typeMap||(e[i].typeMap={}),"graphs"==i&&(l.type.values=r,l.type.documentation="可选的graphs类型有：\n"+r.join("\n")),e[i].typeMap[s]=l):y.extend(e[i].propertys,l)}for(s in!function t(e){var n=e.constructor.__proto__;if(n._isComponentRoot||t(n.prototype),n.defaultProps&&y.isFunction(n.defaultProps)){var i=n.defaultProps();y.extend(a,i)}}(o),e[i].propertys=y.extend(a,e[i].propertys),n[i])t()}var e={},n=this._getComponentModules().modules;for(var i in n){var r,a,o,s,u,l;t()}return this.props=e,this.props}},H=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;function X(t){var e=t.toLowerCase();if(e&&H.test(e)){if(4===e.length){for(var n="#",i=1;i<4;i+=1)n+=e.slice(i,i+1).concat(e.slice(i,i+1));e=n}var r=[];for(i=1;i<7;i+=2)r.push(parseInt("0x"+e.slice(i,i+2)));return"RGB("+r.join(",")+")"}return e}var U=Object.freeze({__proto__:null,colorRgb:X,colorRgba:function(t,e){return X(t).replace(")",","+e+")").replace("RGB","RGBA")},hexTorgb:function(t,e){return t.replace&&(t=parseInt(t.replace("#","0X"),16)),(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hexTostring:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#".concat(t)},rgbTohex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]}}),Y=Math.cos,J=Math.sin,q=function(){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];i(this,a),this._opt=y.clone(t),this.dataFrame=e,this.axisLength=1,this.dataOrg=[],this.startAngle=this._opt.startAngle,this.allAngles=Math.min(360,this._opt.allAngles),this.sort=this._opt.sort,this.layoutData=[],this.maxRadius=0,this.minRadius=0}return e(a,[{key:"calculateProps",value:function(){var n,i,r,a,o,s,u=this,l=0,c=0,h=0,d=this._opt,f=d.node.outRadius,p=d.node.innerRadius,g=d.node.moveDis;this.layoutData.forEach(function(t,e){t.enabled&&(l+=isNaN(+t.value)?0:+t.value,t.radiusField&&(u.maxRadius=Math.max(t.radiusValue,l),u.minRadius=Math.min(t.radiusValue,l)))}),0<(this.axisLength=l)&&(h=y.euclideanModulo(this.startAngle,360),this.layoutData.forEach(function(t,e){c=t.value/l,t.enabled||(c=0),n=u.allAngles*c,i=h+n,o=h+.5*n,r=Y(y.degToRad(o)),a=J(y.degToRad(o)),r=r.toFixed(5),a=a.toFixed(5),s=u.getAuadrant(o),t.radiusField&&(f=parseInt((d.node.outRadius-d.node.innerRadius)*((t.radiusValue-u.minRadius)/(u.maxRadius-u.minRadius))+d.node.innerRadius)),y.extend(t,{outRadius:f,innerRadius:p,startAngle:h,endAngle:i,midAngle:o,moveDis:g,outOffsetx:.7*g*r,outOffsety:.7*g*a,centerx:f*r,centery:f*a,outx:(f+g)*r,outy:(f+g)*a,edgex:(f+g)*r,edgey:(f+g)*a,orginPercentage:c,percentage:(100*c).toFixed(2),quadrant:s,isRightSide:1==s||4==s?1:0,cosV:r,sinV:a}),h+=n}))}},{key:"resetData",value:function(t){this.dataFrame=t||[],this.axisLength=1,this.dataOrg=[],this.startAngle=this._opt.startAngle||-90,this.allAngles=this._opt.allAngles||360,this.layoutData=[]}},{key:"setOption",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};Object.assign(this._opt,e),this.startAngle=this._opt.startAngle,this.allAngles=Math.min(360,this._opt.allAngles),this.sort=this._opt.sort}},{key:"setDataFrame",value:function(t){var n=this,e=[],i=this._opt,r=i.field,a=i.groupField||i.label.field||i.field,o=i.node.radius;t=t||this.dataFrame,this.dataFrame=t,this.dataOrg=[];for(var s=0,u=t.length;s<u;s++){var l=t.getRowDataAt(s),c={rowData:l,enabled:!0,value:l[r],label:l[a],iNode:s};this.dataOrg.push(l[r]),this._isFiled(o,c)&&(c.radiusField=o,c.radiusValue=l[o]),e.push(c)}return this.sort&&(this.dataOrg=[],e.sort(function(t,e){return"asc"==n.sort?t.value-e.value:e.value-t.value}),y.each(e,function(t,e){t.iNode=e,n.dataOrg.push(t)})),this.layoutData=e}},{key:"getLayoutData",value:function(){return this.layoutData||[]}},{key:"_isFiled",value:function(t,e){return t&&y.isString(t)&&t in e.rowData}},{key:"getAuadrant",value:function(t){t=y.euclideanModulo(t,360);var e=0;switch(parseInt(t/90)){case 0:e=1;break;case 1:e=2;break;case 2:e=3;break;case 3:case 4:e=4}return e}},{key:"_getLayoutDataOf",value:function(e){var n,i=[{val:"value"},{ind:"iNode"}][Object.keys(e)[0]];return y.each(this.layoutData,function(t){t[i]===e[i]&&(n=t)}),n||{}}},{key:"getRadiansAtR",value:function(){}},{key:"getPointsOfR",value:function(i,t){var r=[];return y.each(t,function(t){var e=Math.PI*t/180,n=a.getPointInRadianOfR(e,i);r.push(n)}),r}}]),a}();q.filterPointsInRect=function(t,e,n,i){for(var r=0,a=t.length;r<a;r++)q.checkPointInRect(t[r],e,n,i)||(t.splice(r,1),r--,a--);return t},q.checkPointInRect=function(t,e,n,i){var r=t.x+e.x,a=t.y+e.y;return!(r<0||n<r||a<0||i<a)},q.checkArcInRect=function(t,e,n,i,r){var a=t[0],o=t[1],s=o.radian-a.radian;o.radian<a.radian&&(s=2*Math.PI+o.radian-a.radian);var u=(a.radian+s/2)%(2*Math.PI);return q.checkPointInRect(q.getPointInRadianOfR(u,e),n,i,r)},q.getRadianInPoint=function(t){var e=2*Math.PI;return(Math.atan2(t.y,t.x)+e)%e},q.getPointInRadianOfR=function(t,e){var n=Math.PI,i=Math.cos(t)*e;t!=n/2&&t!=3*n/2||(i=0);var r=Math.sin(t)*e;return t%n==0&&(r=0),{x:i,y:r}},q.getROfNum=function(t,e,n,i){var r=y.max(e);return parseInt(Math.max(n,i)/2)*((t-0)/(r-0))};function $(t){var e="CanvaxEvent";y.isString(t)&&(e=t),y.isObject(t)&&t.type&&(e=t.type,y.extend(this,t)),this.target=null,this.currentTarget=null,this.type=e,this.point=null;var n=this;this._stopPropagation=!1,this.stopPropagation=function(){n._stopPropagation=!0,y.isObject(t)&&(t._stopPropagation=!0)},this._preventDefault=!1,this.preventDefault=function(){n._preventDefault=!0,y.isObject(t)&&(t._preventDefault=!0)}}var z=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var Z=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?z(t):e},K=n(function(e){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n}),Q=n(function(n){function i(t,e){return n.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}n.exports=i});function tt(){this._eventMap={}}var et=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)},nt="mousedown mouseup mouseover mousemove mouseout click dblclick wheel keydown keypress keyup",it={_types:nt.split(/,| /),register:function(t){t&&(y.isString(t)&&(t=t.split(/,| /)),this._types=nt.split(/,| /).concat(t))},get:function(){return this._types}};tt.prototype={_setEventEnable:function(){if(!this.children){var t=!1;for(var e in this._eventMap)-1<y.indexOf(it.get(),e)&&(t=!0);this._eventEnabled=t}},_addEventListener:function(t,n){if("function"!=typeof n)return!1;var i=!0,r=this,e=t;return y.isString(t)&&(e=t.split(/,| /)),y.each(e,function(t){var e=r._eventMap[t];return e?-1==y.indexOf(e,n)?(e.push(n),r._setEventEnable(),!0):void(i=!1):((e=r._eventMap[t]=[]).push(n),r._setEventEnable(),!0)}),i},_removeEventListener:function(t,e){if(1==arguments.length)return this.removeEventListenerByType(t);var n=this._eventMap[t];if(!n)return!1;for(var i=0;i<n.length;i++){if(n[i]===e)return n.splice(i,1),0==n.length&&(delete this._eventMap[t],this._setEventEnable()),!0}return!1},_removeEventListenerByType:function(t){return!this._eventMap[t]&&(delete this._eventMap[t],this._setEventEnable(),!0)},_removeAllEventListeners:function(){this._eventMap={},this._eventEnabled=!1},_dispatchEvent:function(t){var e=this._eventMap[t.type];if(e){t.target||(t.target=this),t.currentTarget||(t.currentTarget=this),e=e.slice();for(var n=0;n<e.length;n++){var i=e[n];"function"==typeof i&&i.call(this,t)}}return t._stopPropagation||this.parent&&(t.currentTarget=this.parent,this.parent._dispatchEvent(t)),!0},_hasEventListener:function(t){var e=this._eventMap[t];return null!=e&&0<e.length}};function rt(t,e){this.canvax=t,this.curPoints=[{x:0,y:0}],this.curPointsTarget=[],this._touching=!1,this._draging=!1,this._cursor="default",this.target=this.canvax.view,this.drag={start:"panstart",move:"panmove",end:"panend"},y.extend(!0,this,e)}var at=function(){function t(){return i(this,t),Z(this,K(t).call(this))}return et(t,tt),e(t,[{key:"on",value:function(t,e){return this._addEventListener(t,e),this}},{key:"addEventListener",value:function(t,e){return this._addEventListener(t,e),this}},{key:"un",value:function(t,e){return this._removeEventListener(t,e),this}},{key:"removeEventListener",value:function(t,e){return this._removeEventListener(t,e),this}},{key:"removeEventListenerByType",value:function(t){return this._removeEventListenerByType(t),this}},{key:"removeAllEventListeners",value:function(){return this._removeAllEventListeners(),this}},{key:"fire",value:function(t,e){var n=new $(t);if(e)for(var i in e)"type"!=i&&(n[i]=e[i]);var r=this;return y.each(t.split(" "),function(t){(n.currentTarget=r).dispatchEvent(n)}),this}},{key:"dispatchEvent",value:function(t){if(this.children&&t.point){var e=this.getObjectsUnderPoint(t.point,1)[0];e&&e.dispatchEvent(t)}else{if(!this.context||"mouseover"!=t.type){if(this._dispatchEvent(t),this.context&&"mouseout"==t.type&&this._hoverClass&&this.hoverClone){r=this.getStage().parent;this._hoverClass=!1,r._bufferStage.removeChildById(this.id),this._globalAlpha&&(this.context.globalAlpha=this._globalAlpha,delete this._globalAlpha)}return this}var n=this._heartBeatNum,i=this.context.$model.globalAlpha;if(this._dispatchEvent(t),n!=this._heartBeatNum&&(this._hoverClass=!0,this.hoverClone)){var r=this.getStage().parent,a=this.clone(!0);a._transform=this.getConcatenatedMatrix(),r._bufferStage.addChildAt(a,0),this._globalAlpha=i,this.context.globalAlpha=0}}}},{key:"hasEvent",value:function(t){return this._hasEventListener(t)}},{key:"hasEventListener",value:function(t){return this._hasEventListener(t)}},{key:"hover",value:function(t,e){return this.on("mouseover",t),this.on("mouseout",e),this}},{key:"once",value:function(e,n){var i=this;return this.on(e,function t(){n.apply(i,arguments),this.un(e,t)}),this}}]),t}(),ot=["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown","press","pressup","swipe","swipeleft","swiperight","swipeup","swipedown","tap"],st=document&&document.compareDocumentPosition?function(t,e){return!!e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){return!!e&&(e!=e&&(!t.contains||t.contains(e)))};rt.prototype={init:function(){var e=this;null==e.target.nodeType&&it.register(ot),F.addEvent(e.target,"contextmenu",function(t){t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1}),y.each(it.get(),function(t){1==e.target.nodeType?F.addEvent(e.target,t,function(t){e.__mouseHandler(t)}):e.target.on(t,function(t){e.__libHandler(t)})})},__mouseHandler:function(t){var e=this,n=e.canvax;n.updateViewOffset(),e.curPoints=[{x:F.pageX(t)-n.viewOffset.left,y:F.pageY(t)-n.viewOffset.top}];var i=e.curPoints[0],r=e.curPointsTarget[0];if(-1<y.indexOf(["mousedown","mouseover","click"],t.type)&&!r){if(!r){var a=n.getObjectsUnderPoint(i,1)[0];a&&(e.curPointsTarget=[a])}r=e.curPointsTarget[0]}if("mousedown"==t.type&&r&&r.dragEnabled&&(e._touching=!0),"mouseup"!=t.type&&("mouseout"!=t.type||st(n.view,t.toElement||t.relatedTarget))||(1==e._draging&&(e._dragEnd(t,r,0),r.fire("dragend")),e._draging=!1,e._touching=!1),"mouseout"==t.type)st(n.view,t.toElement||t.relatedTarget)||e.__getcurPointsTarget(t,i,!0);else if("mousemove"==t.type)if(e._touching&&"mousemove"==t.type&&r){if(e._draging)e._dragIngHander(t,r,0);else r.fire("dragstart"),r._globalAlpha||(r._globalAlpha=r.context.$model.globalAlpha),r.context.globalAlpha=0,e._clone2hoverStage(r,0).context.globalAlpha=r._globalAlpha;e._draging=!0}else e.__getcurPointsTarget(t,i);else{var o=r;o=o||n,e.__dispatchEventInChilds(t,[o]),e._cursorHander(o)}(n.preventDefault||t._preventDefault)&&(t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1)},__getcurPointsTarget:function(t,e,n){var i=this,r=i.canvax,a=i.curPointsTarget[0];if(a&&!a.context&&(a=null),"mousemove"==(t=new $(t)).type&&a&&a._hoverClass&&a.hoverClone&&a.pointChkPriority&&a.getChildInPoint(e))return t.target=t.currentTarget=a,t.point=a.globalToLocal(e),void a.dispatchEvent(t);var o=n?null:r.getObjectsUnderPoint(e,1)[0];(a&&a!=o||"mouseout"==t.type)&&a&&a.context&&(i.curPointsTarget[0]=null,t.type="mouseout",t.toTarget=o,t.target=t.currentTarget=a,t.point=a.globalToLocal(e),a.dispatchEvent(t)),o&&a!=o&&(i.curPointsTarget[0]=o,t.type="mouseover",t.fromTarget=a,t.target=t.currentTarget=o,t.point=o.globalToLocal(e),o.dispatchEvent(t)),"mousemove"==t.type&&o&&(t.target=t.currentTarget=a,t.point=a.globalToLocal(e),a.dispatchEvent(t)),i._cursorHander(o,a)},_cursorHander:function(t,e){t||e||this._setCursor("default"),t&&e!=t&&t.context&&this._setCursor(t.context.$model.cursor)},_setCursor:function(t){this._cursor!=t&&(this.canvax.view.style.cursor=t,this._cursor=t)},__libHandler:function(n){var i=this,t=i.canvax;t.updateViewOffset(),i.curPoints=i.__getCanvaxPointInTouchs(n),i._draging||(i.curPointsTarget=i.__getChildInTouchs(i.curPoints)),0<i.curPointsTarget.length?(n.type==i.drag.start&&y.each(i.curPointsTarget,function(t,e){if(t&&t.dragEnabled)return i._draging=!0,t._globalAlpha||(t._globalAlpha=t.context.$model.globalAlpha),i._clone2hoverStage(t,e),t.context.globalAlpha=0,t.fire("dragstart"),!1}),n.type==i.drag.move&&i._draging&&y.each(i.curPointsTarget,function(t,e){t&&t.dragEnabled&&i._dragIngHander(n,t,e)}),n.type==i.drag.end&&i._draging&&(y.each(i.curPointsTarget,function(t,e){t&&t.dragEnabled&&(i._dragEnd(n,t,0),t.fire("dragend"))}),i._draging=!1),i.__dispatchEventInChilds(n,i.curPointsTarget)):i.__dispatchEventInChilds(n,[t])},__getCanvaxPointInTouchs:function(t){var e=this.canvax,n=[];return y.each(t.point,function(t){n.push({x:F.pageX(t)-e.viewOffset.left,y:F.pageY(t)-e.viewOffset.top})}),n},__getChildInTouchs:function(t){var e=this.canvax,n=[];return y.each(t,function(t){n.push(e.getObjectsUnderPoint(t,1)[0])}),n},__dispatchEventInChilds:function(i,t){if(!(t||"length"in t))return!1;var r=this;y.each(t,function(t,e){if(t){var n=new $(i);n.stagePoint=r.curPoints[e],n.point=t.globalToLocal(n.stagePoint),t.dispatchEvent(n)}})},_clone2hoverStage:function(t,e){var n=this.canvax,i=n._bufferStage.getChildById(t.id);return i||((i=t.clone(!0))._transform=t.getConcatenatedMatrix(),n._bufferStage.addChildAt(i,0)),i.context.globalAlpha=t._globalAlpha,t._dragPoint=t.globalToLocal(this.curPoints[e]),i},_dragIngHander:function(t,e,n){var i=this.canvax,r=e.globalToLocal(this.curPoints[n]);e._noHeart=!0;var a=e.moveing;e.moveing=!0,e.context.x+=r.x-e._dragPoint.x,e.context.y+=r.y-e._dragPoint.y,e.fire("draging"),e.moveing=a,e._noHeart=!1;var o=i._bufferStage.getChildById(e.id);o._transform=e.getConcatenatedMatrix(),o.worldTransform=null,o.heartBeat()},_dragEnd:function(t,e){var n=this.canvax._bufferStage.getChildById(e.id);n&&n.destroy(),e.context.globalAlpha=e._globalAlpha}};var ut=Object.freeze({__proto__:null,Event:$,Dispatcher:at,Handler:rt,Manager:tt,types:it});return t.$=F,t.Polar=q,t._=y,t.axis=R,t.cloneData=C,t.cloneOptions=M,t.color=U,t.dataFrame=function(t,r){var o={length:0,org:[],jsonOrg:[],data:[],getRowDataAt:s,getRowDataOf:function(e){e=e||{};var t=[],n=0;for(var i in e)n++;if(n)for(var r=o.range.start;r<=o.range.end;r++){var a=0;y.each(o.data,function(t){t.field in e&&t.data[r]==e[t.field]&&a++}),a==n&&t.push(s(r))}return t},getFieldData:function(e){var t=[],n=y.find(o.data,function(t){return t.field==e});return n&&(t=n.data),t},getDataOrg:function t(e,i,n,r){r=r||0;var a=n||f();if(!a)return;i=i||function(t){return t};function o(t){for(var e=0,n=t.length;e<n;e++)t[e]=i(t[e]);return t}y.isArray(e)||(e=[e]);var s=[];for(var u=0,l=e.length;u<l;u++)if(y.isArray(e[u]))s.push(t(e[u],i,n,r+1));else{var c=s;r||(c=[]);for(var h=0,d=a.length;h<d;h++)if(e[u]==a[h].field){c.push(o(a[h].data));break}r||s.push(c)}return s},resetData:function(t){if(t){o.org=[],o.jsonOrg=[],o.fields=[],o.data=[];var e=y.extend(!0,{},o.range);n(t),y.extend(!0,o.range,e),o.range.end>o.length-1&&(o.range.end=o.length-1),(o.range.start>o.length-1||o.range.start>o.range.end)&&(o.range.start=0)}o.data=f()},fields:[],range:{start:0,end:0},filters:{}};function n(t){if(!(t=JSON.parse(JSON.stringify(t,function(t,e){return void 0===e?null:e})))||0==t.length)return o;if(0<t.length&&!y.isArray(t[0])?(t=function(t){if(null==t&&(t=[]),0<t.length&&!y.isArray(t[0])){for(var e=[],n=[],i=0,r=0,a=t.length;r<a;r++){var o=t[r];if(0==r){for(var s in o)n.push(s);e.push(n),i=n.length}for(var u=[],l=0;l<i;l++)u.push(o[n[l]]);e.push(u)}return e}return t}(o.jsonOrg=t),o.org=t):(o.org=t,o.jsonOrg=function(t){var e=t;if(0<t.length&&y.isArray(t[0])){e=[];for(var n=t[0],i=n.length,r=1,a=t.length;r<a;r++){for(var o={},s=0;s<i;s++)o[n[s]]=t[r][s];e.push(o)}return e}}(t)),o.range.end=t.length-1-1,r){var e=r.dataZoom||r.datazoom;e&&e.range&&y.extend(o.range,e.range)}if(t.length&&t[0].length&&!~t[0].indexOf("__index__"))for(var n=0,i=t.length;n<i;n++)n?(t[n].push(n-1),o.jsonOrg[n-1].__index__=n-1):t[0].push("__index__");return o.fields=t[0]?t[0]:[],o}function f(){for(var r=[],t=0,e=o.fields.length;t<e;t++){var n={};n.field=o.fields[t],n.index=t,n.data=[],r.push(n)}var i=function(t){var i=[];return y.each(o.jsonOrg.slice(o.range.start,o.range.end+1),function(e){var n=!0;y.keys(o.filters).length&&y.each(o.filters,function(t){if(y.isFunction(t)&&!t(e))return n=!1}),n&&(t&&t(e),i.push(e))}),i}(function(i){y.each(o.fields,function(e){var t=i[e];isNaN(t)||""===t||null===t||(t=Number(t));var n=y.find(r,function(t){return t.field==e});n&&n.data.push(t)})});return o.length=i.length,r}function s(t){for(var e={},n=o.data,i=0;i<n.length;i++)e[n[i].field]=n[i].data[t];return e}return n(t),o.data=f(),o},t.dataSection=D,t.event=ut,t.getDefaultProps=I,t.global=B,t.version="0.0.89",t}({});