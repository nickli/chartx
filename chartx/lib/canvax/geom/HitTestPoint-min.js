define("canvax/geom/HitTestPoint",["canvax/geom/Math"],function(a){function b(a,b){var d=b.x,e=b.y;return!(!a||!a.type)&&c(a,d,e)}function c(a,b,c){switch(a.type){case"line":return e(a.context,b,c);case"brokenline":return f(a,b,c);case"text":return!0;case"rect":return!0;case"circle":return h(a,b,c);case"ellipse":return j(a,b,c);case"sector":return i(a,b,c);case"path":case"droplet":return l(a,b,c);case"polygon":case"isogon":return k(a,b,c)}}function d(a,c,d){return!b(a,c,d)}function e(a,b,c){var d=a.xStart,e=a.yStart,f=a.xEnd,g=a.yEnd,h=Math.max(a.lineWidth,3),i=0,j=d;if(c>e+h&&c>g+h||c<e-h&&c<g-h||b>d+h&&b>f+h||b<d-h&&b<f-h)return!1;if(d===f)return Math.abs(b-d)<=h/2;i=(e-g)/(d-f),j=(d*g-f*e)/(d-f);var k=(i*b-c+j)*(i*b-c+j)/(i*i+1);return k<=h/2*h/2}function f(a,b,c){for(var d,f=a.context,h=f.pointList,i=!1,j=0,k=h.length-1;j<k&&(d={xStart:h[j][0],yStart:h[j][1],xEnd:h[j+1][0],yEnd:h[j+1][1],lineWidth:f.lineWidth},!g({x:Math.min(d.xStart,d.xEnd)-d.lineWidth,y:Math.min(d.yStart,d.yEnd)-d.lineWidth,width:Math.abs(d.xStart-d.xEnd)+d.lineWidth,height:Math.abs(d.yStart-d.yEnd)+d.lineWidth},b,c)||!(i=e(d,b,c)));j++);return i}function g(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function h(a,b,c,d){var e=a.context;return!d&&(d=e.r),b*b+c*c<d*d}function i(b,c,d){var e=b.context;if(!h(b,c,d)||e.r0>0&&h(b,c,d,e.r0))return!1;var f=a.degreeTo360(e.startAngle),g=a.degreeTo360(e.endAngle),i=a.degreeTo360(Math.atan2(d,c)/Math.PI*180%360),j=!0;(f>g&&!e.clockwise||f<g&&e.clockwise)&&(j=!1);var k=[Math.min(f,g),Math.max(f,g)],l=i>k[0]&&i<k[1];return l&&j||!l&&!j}function j(a,b,c){var d,e=a.context,f={x:0,y:0},g=e.hr,h=e.vr,i={x:b,y:c};return i.x-=f.x,i.y-=f.y,i.x*=i.x,i.y*=i.y,g*=g,h*=h,d=h*i.x+g*i.y-g*h,d<0}function k(a,b,c){var d=a.context?a.context:a,f=_.clone(d.pointList);f.push(f[0]);for(var g,h=0,i=f[0][1]>c,j=1;j<f.length;j++){var k=e({xStart:f[j-1][0],yStart:f[j-1][1],xEnd:f[j][0],yEnd:f[j][1],lineWidth:d.lineWidth||1},b,c);if(k)return!0;if(d.fillStyle&&(g=i,i=f[j][1]>c,g!=i)){var l=(g?1:0)-(i?1:0);l*((f[j-1][0]-b)*(f[j][1]-c)-(f[j-1][1]-c)*(f[j][0]-b))>0&&(h+=l)}}return h}function l(a,b,c){for(var d=a.context,e=d.pointList,f=!1,g=0,h=e.length;g<h&&!(f=k({pointList:e[g],lineWidth:d.lineWidth,fillStyle:d.fillStyle},b,c));g++);return f}var m={};return m={isInside:b,isOutside:d}});