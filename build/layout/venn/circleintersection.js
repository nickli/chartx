define("layout/venn/circleintersection",[],function(r,n,t){"use strict";n.__esModule=!0;var a=1e-10;function e(r,n){for(var t=0;t<n.length;++t)if(u(r,n[t])>n[t].radius+a)return!1;return!0}function i(r,n){return r*r*Math.acos(1-n/r)-(r-n)*Math.sqrt(n*(2*r-n))}function u(r,n){return Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y))}function s(r,n){var t=u(r,n),a=r.radius,e=n.radius;if(t>=a+e||t<=Math.abs(a-e))return[];var i=(a*a-e*e+t*t)/(2*t),s=Math.sqrt(a*a-i*i),c=r.x+i*(n.x-r.x)/t,h=r.y+i*(n.y-r.y)/t,l=-(n.y-r.y)*(s/t),x=-(n.x-r.x)*(s/t);return[{x:c+l,y:h-x},{x:c-l,y:h+x}]}function c(r){for(var n={x:0,y:0},t=0;t<r.length;++t)n.x+=r[t].x,n.y+=r[t].y;return n.x/=r.length,n.y/=r.length,n}n.intersectionArea=function(r,n){var t,h=function(r){for(var n=[],t=0;t<r.length;++t)for(var a=t+1;a<r.length;++a)for(var e=s(r[t],r[a]),i=0;i<e.length;++i){var u=e[i];u.parentIndex=[t,a],n.push(u)}return n}(r),l=h.filter(function(n){return e(n,r)}),x=0,o=0,y=[];if(l.length>1){var d=c(l);for(t=0;t<l.length;++t){var f=l[t];f.angle=Math.atan2(f.x-d.x,f.y-d.y)}l.sort(function(r,n){return n.angle-r.angle});var v=l[l.length-1];for(t=0;t<l.length;++t){var g=l[t];o+=(v.x+g.x)*(g.y-v.y);for(var M={x:(g.x+v.x)/2,y:(g.y+v.y)/2},p=null,I=0;I<g.parentIndex.length;++I)if(v.parentIndex.indexOf(g.parentIndex[I])>-1){var P=r[g.parentIndex[I]],b=Math.atan2(g.x-P.x,g.y-P.y),w=Math.atan2(v.x-P.x,v.y-P.y),A=w-b;A<0&&(A+=2*Math.PI);var q=w-A/2,C=u(M,{x:P.x+P.radius*Math.sin(q),y:P.y+P.radius*Math.cos(q)});C>2*P.radius&&(C=2*P.radius),(null===p||p.width>C)&&(p={circle:P,width:C,p1:g,p2:v})}null!==p&&(y.push(p),x+=i(p.circle.radius,p.width),v=g)}}else{var m=r[0];for(t=1;t<r.length;++t)r[t].radius<m.radius&&(m=r[t]);var O=!1;for(t=0;t<r.length;++t)if(u(r[t],m)>Math.abs(m.radius-r[t].radius)){O=!0;break}O?x=o=0:(x=m.radius*m.radius*Math.PI,y.push({circle:m,p1:{x:m.x,y:m.y+m.radius},p2:{x:m.x-a,y:m.y+m.radius},width:2*m.radius}))}return o/=2,n&&(n.area=x+o,n.arcArea=x,n.polygonArea=o,n.arcs=y,n.innerPoints=l,n.intersectionPoints=h),x+o},n.containedInCircles=e,n.circleArea=i,n.distance=u,n.circleOverlap=function(r,n,t){if(t>=r+n)return 0;if(t<=Math.abs(r-n))return Math.PI*Math.min(r,n)*Math.min(r,n);var a=n-(t*t-r*r+n*n)/(2*t);return i(r,r-(t*t-n*n+r*r)/(2*t))+i(n,a)},n.circleCircleIntersection=s,n.getCenter=c});