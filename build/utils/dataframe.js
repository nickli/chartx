define("utils/dataframe",["./tools","canvax"],function(a,e,t){"use strict";e.__esModule=!0;var n=a("./tools"),r=a("canvax").default._;e.default=function(a,e){var t={length:0,org:[],data:[],getRowData:function(a){for(var e={},n=t.data,r=0;r<n.length;r++)e[n[r].field]=n[r].data[t.range.start+a];return e},getFieldData:function(a){var e;return r.each(t.data,function(t){t.field==a&&(e=t)}),e?e.data.slice(t.range.start,t.range.end+1):[]},getDataOrg:function a(e,n,l,d){d||(d=0);var f=l||i;if(f){n||(n=function(a){return a}),r.isArray(e)||(e=[e]);for(var g=[],o=0,s=e.length;o<s;o++)if(r.isArray(e[o]))g.push(a(e[o],n,l,d+1));else{var u=g;d||(u=[]);for(var h=0,v=f.length;h<v;h++)if(e[o]==f[h].field){u.push(c(f[h].data.slice(t.range.start,t.range.end+1)));break}d||g.push(u)}return g}function c(a){for(var e=0,t=a.length;e<t;e++)a[e]=n(a[e]);return a}},fields:[],range:{start:0,end:0}};if(!a||0==a.length)return t;if(a.length>0&&!r.isArray(a[0])?(a=n.parse2MatrixData(a),t.length=a.length):t.length=a.length-1,t.range.end=t.length-1,e&&e.dataZoom&&e.dataZoom.range&&r.extend(t.range,e.dataZoom.range),a.length&&a[0].length&&!~a[0].indexOf("__index__"))for(var l=0,d=a.length;l<d;l++)l?a[l].push(l-1):a[0].push("__index__");t.org=a,t.fields=a[0]?a[0]:[];for(var i=[],f=0,g=t.fields.length;f<g;f++){var o={};o.field=t.fields[f],o.index=f,o.data=[],i.push(o)}for(t.data=i,f=1,g=a.length;f<g;f++)for(var s=0,u=a[f].length;s<u;s++)i[s].data.push(a[f][s]);return t}});