define("chartx/chart/original/relcontrast/dataformat",[],function(){return function(a,b){var c={max:0,maxEdge:0,org:a,nodes:{},group:{},edges:{}},d=a.shift(),e=[];_.each(a,function(a,b){var f={};_.each(d,function(b,c){f[b]=a[c]}),e.push(f),c.max=Math.max(c.max,f.value),c.nodes[f.node]=f}),c.group=_.groupBy(e,function(a){return a.group});var f={};for(var g in c.nodes){var h=c.nodes[g];_.each(h.link,function(a,b){var d={value:a,conversely:b+"_"+g,from:c.nodes[g],to:c.nodes[b]};f[g+"_"+b]=d})}for(var i in f){var j=f[i];if(delete f[i],f[j.conversely]){var k=f[j.conversely];delete f[j.conversely],k.value>j.value?(k.value+=j.value,c.edges[j.conversely]=k,c.maxEdge=Math.max(c.maxEdge,k.value)):(j.value+=k.value,c.edges[i]=j,c.maxEdge=Math.max(c.maxEdge,j.value))}else c.edges[i]=j,c.maxEdge=Math.max(c.maxEdge,j.value)}return c}});