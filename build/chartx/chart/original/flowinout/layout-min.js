define("chartx/chart/original/flowinout/layout",[],function(){function a(a,b,c,d){var e=0;_.each(a,function(a,c){var f,g,h,i=d.edges[b.node+"_"+a.node],j=b,k=a,g=j.pos.y+e,f=j.pos.x+j.w-2;i?(path="M"+f+","+g,h={x:(i.to.pos.x-f)/2+f,y:g},path+="C"+h.x+","+h.y+","+h.x+","+k.pos.y+","+(k.pos.x+1)+","+k.pos.y,path+="v"+k.h,path+="C"+h.x+","+(k.pos.y+k.h)+","+h.x+","+(g+k.h)+","+f+","+(g+k.h),i.path=path,e+=k.h):(i=d.edges[a.node+"_"+b.node],f=j.pos.x,path="M"+f+","+g,h={x:f-(f-k.pos.x-k.w)/2,y:g},path+="C"+h.x+","+h.y+","+h.x+","+k.pos.y+","+(k.pos.x+k.w-1)+","+k.pos.y,path+="v"+k.h,path+="C"+h.x+","+(k.pos.y+k.h)+","+h.x+","+(g+k.h)+","+f+","+(g+k.h),i.path=path,e+=k.h)})}function b(a,b){return _.isFunction(a)?a(b):void 0}return function(c,d){var e={w:0,h:0,node:{w:0,maxW:150,h:0,maxH:0,minH:20,marginTop:20,fillStyle:"#60ADE4"},edge:{},group:{left:{},middle:{},right:{}}};_.deepExtend(e,d),e.node.w||(e.node.w=Math.min(e.w/5,e.node.maxW));var f=c.group.middle;f.h=e.h-e.node.marginTop*c.maxLinks,f.w=e.node.w,f.pos={y:e.node.marginTop,x:e.w/5*2},f.fillStyle=b(e.node.fillStyle,f);var g=0,h=0;_.each(c.group.left,function(a,c){a.w=e.node.w,a.h=a.value/f.value*f.h,h+=a.h,a.pos={x:0,y:g+e.node.marginTop},a.fillStyle=b(e.node.fillStyle,a),g+=a.h+e.node.marginTop}),f.h=Math.max(h,f.h);var g=0;return _.each(c.group.right,function(a,c){a.w=e.node.w,a.h=a.value/f.value*f.h,a.pos={x:e.w/5*4,y:g+e.node.marginTop},a.fillStyle=b(e.node.fillStyle,a),g+=a.h+e.node.marginTop}),a(c.group.left,f,e,c),a(c.group.right,f,e,c),c}});