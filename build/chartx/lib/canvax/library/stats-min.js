define("canvax/library/stats",["canvax/core/Base"],function(a){var b=function(){var b=Date.now(),c=b,d=0,e=1/0,f=0,g=0,h=1/0,i=0,j=0,k=0,l=document.createElement("div");l.id="stats",a.addEvent(l,"mousedown",function(a){a.preventDefault(),t(++k%2)}),l.style.cssText="width:80px;opacity:0.9;cursor:pointer";var m=document.createElement("div");m.id="fps",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",l.appendChild(m);var n=document.createElement("div");n.id="fpsText",n.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",n.innerHTML="FPS",m.appendChild(n);var o=document.createElement("div");for(o.id="fpsGraph",o.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",m.appendChild(o);o.children.length<74;){var p=document.createElement("span");p.style.cssText="width:1px;height:30px;float:left;background-color:#113",o.appendChild(p)}var q=document.createElement("div");q.id="ms",q.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",l.appendChild(q);var r=document.createElement("div");r.id="msText",r.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",r.innerHTML="MS",q.appendChild(r);var s=document.createElement("div");for(s.id="msGraph",s.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",q.appendChild(s);s.children.length<74;){var p=document.createElement("span");p.style.cssText="width:1px;height:30px;float:left;background-color:#131",s.appendChild(p)}var t=function(a){switch(k=a){case 0:m.style.display="block",q.style.display="none";break;case 1:m.style.display="none",q.style.display="block"}},u=function(a,b){var c=a.appendChild(a.firstChild);c.style.height=b+"px"};return{REVISION:11,domElement:l,setMode:t,begin:function(){b=Date.now()},end:function(){var a=Date.now();return d=a-b,e=Math.min(e,d),f=Math.max(f,d),r.textContent=d+" MS ("+e+"-"+f+")",u(s,Math.min(30,30-d/200*30)),j++,a>c+1e3&&(g=Math.round(1e3*j/(a-c)),h=Math.min(h,g),i=Math.max(i,g),n.textContent=g+" FPS ("+h+"-"+i+")",u(o,Math.min(30,30-g/100*30)),c=a,j=0),a},update:function(){b=this.end()}}};return b});