define("chartx/layout/chord",[],function(){var a=function(a,c,d){if(arguments.length<3&&(d=1,arguments.length<2&&(c=a,a=0)),(c-a)/d===1/0)throw new Error("infinite range");var e,f=[],g=b(Math.abs(d)),h=-1;if(a*=g,c*=g,d*=g,0>d)for(;(e=a+d*++h)>c;)f.push(e/g);else for(;(e=a+d*++h)<c;)f.push(e/g);return f},b=function(a){for(var b=1;a*b%1;)b*=10;return b},c=2*Math.PI,d={};return d.chord=function(){function b(){var b,l,n,o,p,q={},r=[],s=a(h),t=[];for(e=[],f=[],b=0,o=-1;++o<h;){for(l=0,p=-1;++p<h;)l+=g[o][p];r.push(l),t.push(a(h)),b+=l}for(i&&s.sort(function(a,b){return i(r[a],r[b])}),j&&t.forEach(function(a,b){a.sort(function(a,c){return j(g[b][a],g[b][c])})}),b=(c-m*h)/b,l=0,o=-1;++o<h;){for(n=l,p=-1;++p<h;){var u=s[o],v=t[u][p],w=g[u][v],x=l,y=l+=w*b;q[u+"-"+v]={index:u,subindex:v,startAngle:x,endAngle:y,value:w}}f[u]={index:u,startAngle:n,endAngle:l,value:(l-n)/b},l+=m}for(o=-1;++o<h;)for(p=o-1;++p<h;){var z=q[o+"-"+p],A=q[p+"-"+o];(z.value||A.value)&&e.push(z.value<A.value?{source:A,target:z}:{source:z,target:A})}k&&d()}function d(){e.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var e,f,g,h,i,j,k,l={},m=0;return l.matrix=function(a){return arguments.length?(h=(g=a)&&g.length,e=f=null,l):g},l.padding=function(a){return arguments.length?(m=a,e=f=null,l):m},l.sortGroups=function(a){return arguments.length?(i=a,e=f=null,l):i},l.sortSubgroups=function(a){return arguments.length?(j=a,e=null,l):j},l.sortChords=function(a){return arguments.length?(k=a,e&&d(),l):k},l.chords=function(){return e||b(),e},l.groups=function(){return f||b(),f},l},d});