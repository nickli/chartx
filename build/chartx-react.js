define("chartx-react",["react","./index"],function(t,e,i){"use strict";var r,s=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});e.__esModule=!0;var o=t("react"),n=t("./index"),a=function(t){function e(e){var i=t.call(this,e)||this;return i.myRef=o.default.createRef(),i.chart=null,i.chartOptions=i.getChartOptions(),i}return s(e,t),e.prototype.componentDidUpdate=function(t,e){t.width==this.props.width&&t.height==this.props.height&&t.className==this.props.className||this.chart.resize();var i=this.getChartOptions(this.props),r=JSON.stringify(this.getChartOptions(t))!=JSON.stringify(i),s=JSON.stringify(this.props.data)!=JSON.stringify(t.data);r?(this.chartOptions=i,this.chart.reset(i,this.props.data)):s&&this.chart.resetData(this.props.data)},e.prototype.render=function(){var t=this.getStyles();return o.default.createElement("div",{ref:this.myRef,className:"chartx-react "+(this.props.className||""),style:t})},e.prototype.componentDidMount=function(){var t=this.myRef.current,e=this.props.data;this.chart=n.default.create(t,e,this.chartOptions),n.default._registWindowOnResize||(window.addEventListener("resize",function(t){n.default.resize()},!1),n.default._registWindowOnResize=!0)},e.prototype.componentWillUnmount=function(){this.chart.destroy()},e.prototype.getChartOptions=function(t){var e=t?t.options:this.props.options;return this.props.chartId&&(e=n.default.canvax._.extend(!0,n.default.getOptions(this.props.chartId),e)),e},e.prototype.getStyles=function(){var t={};return this.setSize("width",t),this.setSize("height",t),t},e.prototype.setSize=function(t,e){if(null!=this.props[t]){var i=this.props[t];isNaN(i)?"string"==typeof i&&(e[t]=i):e[t]=i<1?100*i+"%":i+"px"}},e.defaultProps={chartId:null,width:null,height:null,className:"",options:{},data:[]},e}(o.default.Component);e.default=a});