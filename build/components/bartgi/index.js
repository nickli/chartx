define("components/bartgi/index",["../component","canvax"],function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var a=t("../component"),o=t("canvax"),s=o.default.Shapes.Line,l=o.default._,d=function(t){function e(e,n){var r=t.call(this)||this;return r._opt=e,r.root=n,r.field=null,r.barField=null,r.data=null,r.barDatas=null,r._yAxis=null,r.yAxisAlign="left",r.sprite=null,r.standardVal=100,r.origin={x:0,y:0},r.line={lineWidth:3,strokeStyle:function(t,e){return t>=this.standardVal?"#43cbb5":"#ff6060"}},l.extend(!0,r,e),r._yAxis=r.root._coord._yAxis["left"==r.yAxisAlign?0:1],r.sprite=new o.default.Display.Sprite({id:"barTgiSprite",context:{x:r.origin.x,y:r.origin.y}}),r}return i(e,t),e.register=function(t,e){l.isArray(t)||(t=[t]);var n=this;l.each(t,function(t,r){e.components.push({type:"once",plug:{draw:function(){t=l.extend(!0,{origin:{x:e._coord.origin.x,y:e._coord.origin.y}},t);var r=new n(t,e);e.components.push({type:"barTgi",plug:r}),e.graphsSprite.addChild(r.sprite)}}})})},e.prototype.reset=function(t){l.extend(!0,this,t),this.barDatas=null,this.data=null,this.sprite.removeAllChildren(),this.draw()},e.prototype.draw=function(){var t=this;l.each(t.root._graphs,function(e){if("bar"==e.type&&e.data[t.barField])return t.barDatas=e.data[t.barField],!1}),this.data=l.flatten(t.root.dataFrame.getDataOrg(t.field)),this.barDatas&&l.each(this.data,function(e,n){var r=t._yAxis.getYposFromVal(e),i=t.barDatas[n],a=new s({context:{start:{x:i.x,y:r},end:{x:i.x+i.width,y:r},lineWidth:2,strokeStyle:t._getProp(t.line.strokeStyle,e,n)}});t.sprite.addChild(a)})},e.prototype._getProp=function(t,e,n){var r=t;return l.isFunction(t)&&(r=t.apply(this,[e,n])),r},e}(a.default);e.default=d});